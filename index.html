<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CostShare - Ethiopian Super-App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#5D5CDE',
                        'primary-dark': '#4949b3',
                        accent: '#27AE60',
                        'accent-dark': '#1e8449',
                        'ethiopian-green': '#078930',
                        'ethiopian-yellow': '#FCDD09',
                        'ethiopian-red': '#DA121A',
                        dark: '#181818',
                        light: '#FFFFFF',
                        telebirr: '#321375',
                        cbe: '#154733',
                        mpsa: '#033E8C',
                        mbirr: '#E3051B',
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    }
                }
            }
        };
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Ethiopic:wght@400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
        }
        
        /* Dark mode styles */
        .dark {
            color-scheme: dark;
        }
        
        /* Animation for the logo */
        @keyframes pulse-ring {
            0% {
                transform: scale(0.95);
            }
            70% {
                transform: scale(1);
            }
            100% {
                transform: scale(0.95);
            }
        }
        
        .animate-pulse-slow {
            animation: pulse-ring 3s cubic-bezier(0.215, 0.61, 0.355, 1) infinite;
        }
        
        /* Sliding animation for sections */
        @keyframes slideInRight {
            from {
                transform: translateX(30px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        .slide-in {
            animation: slideInRight 0.3s ease-out forwards;
        }
        
        /* Sliding animation for modals */
        @keyframes slideInUp {
            from {
                transform: translateY(30px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        .slide-up {
            animation: slideInUp 0.3s ease-out forwards;
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.05);
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }
        
        .dark ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }
        
        .dark ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
        }
        
        /* Language specific fonts */
        .lang-amharic, .lang-tigrinya, .lang-oromo {
            font-family: 'Noto Sans Ethiopic', 'Inter', sans-serif;
        }
        
        /* Map marker animation */
        @keyframes bounce {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-8px);
            }
        }
        
        .map-marker {
            animation: bounce 1.5s ease infinite;
        }
        
        /* Ripple animation for location */
        @keyframes ripple {
            0% {
                transform: scale(0.8);
                opacity: 1;
            }
            100% {
                transform: scale(2);
                opacity: 0;
            }
        }
        
        .ripple {
            animation: ripple 2s linear infinite;
        }
        
        /* Verification badge pulse animation */
        @keyframes badgePulse {
            0% {
                box-shadow: 0 0 0 0 rgba(39, 174, 96, 0.7);
            }
            70% {
                box-shadow: 0 0 0 5px rgba(39, 174, 96, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(39, 174, 96, 0);
            }
        }
        
        .badge-pulse {
            animation: badgePulse 2s infinite;
        }
        
        /* OTP input style */
        .otp-input {
            width: 3rem;
            height: 3rem;
            font-size: 1.5rem;
            text-align: center;
        }
        
        /* Stepper connector line */
        .connector-line {
            position: absolute;
            top: 1.5rem;
            left: calc(25% + 1.5rem);
            right: calc(25% + 1.5rem);
            height: 2px;
            background-color: #E5E7EB;
            z-index: 0;
        }
        
        .dark .connector-line {
            background-color: #4B5563;
        }
        
        /* Secure icon pulse */
        @keyframes securePulse {
            0% {
                opacity: 0.7;
            }
            50% {
                opacity: 1;
            }
            100% {
                opacity: 0.7;
            }
        }
        
        .secure-pulse {
            animation: securePulse 2s ease-in-out infinite;
        }

        /* Offline indicator */
        @keyframes offlineIndicator {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.5;
            }
        }
        
        .offline-indicator {
            animation: offlineIndicator 2s ease-in-out infinite;
        }

        /* Payment method selection */
        .payment-method {
            transition: all 0.2s ease;
        }
        .payment-method.selected {
            border-color: #5D5CDE;
            background-color: rgba(93, 92, 222, 0.1);
        }

        /* Category pills */
        .category-pill {
            transition: all 0.2s ease;
        }
        .category-pill.selected {
            background-color: #5D5CDE;
            color: white;
        }

        /* Message timeline */
        .message-timeline::before {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            left: 24px;
            width: 2px;
            background-color: #E5E7EB;
            z-index: 0;
        }
        
        .dark .message-timeline::before {
            background-color: #4B5563;
        }

        /* Loader animation */
        @keyframes loadingDots {
            0%, 100% {
                opacity: 0.2;
            }
            50% {
                opacity: 1;
            }
        }
        
        .loading-dot:nth-child(1) {
            animation: loadingDots 1.4s 0s infinite ease-in-out;
        }
        
        .loading-dot:nth-child(2) {
            animation: loadingDots 1.4s 0.2s infinite ease-in-out;
        }
        
        .loading-dot:nth-child(3) {
            animation: loadingDots 1.4s 0.4s infinite ease-in-out;
        }
    </style>
</head>
<body class="bg-light dark:bg-dark transition-colors duration-300">
    <div id="app" class="max-w-md mx-auto h-screen flex flex-col relative">
        <!-- Offline Mode Indicator (shows when offline) -->
        <div id="offline-banner" class="hidden fixed top-0 inset-x-0 bg-ethiopian-yellow z-50 py-2 text-center offline-indicator">
            <div class="max-w-md mx-auto flex items-center justify-center text-sm font-medium text-gray-900">
                <i class="fas fa-wifi-slash mr-2"></i>
                <span id="offline-text">You're in offline mode. Some features may be limited.</span>
            </div>
        </div>
        
        <!-- Onboarding/Auth Screens - Initially visible -->
        <div id="auth-container" class="h-full">
            <!-- Welcome Screen -->
            <div id="welcome-screen" class="h-full flex flex-col">
                <div class="flex-1 flex flex-col items-center justify-center p-8">
                    <!-- Logo -->
                    <div class="w-32 h-32 relative mb-8">
                        <svg viewBox="0 0 100 100" class="w-full h-full">
                            <!-- Outer network circle representing "sharing economy" -->
                            <circle cx="50" cy="50" r="45" fill="none" stroke="#5D5CDE" stroke-width="2" class="animate-pulse-slow" />
                            
                            <!-- Network nodes (people sharing resources) -->
                            <circle cx="50" cy="20" r="8" fill="#078930" />  <!-- Ethiopian green -->
                            <circle cx="80" cy="50" r="8" fill="#FCDD09" />  <!-- Ethiopian yellow -->
                            <circle cx="50" cy="80" r="8" fill="#DA121A" />  <!-- Ethiopian red -->
                            <circle cx="20" cy="50" r="8" fill="#5D5CDE" />  <!-- Primary color -->
                            
                            <!-- Connection lines showing sharing/distribution -->
                            <line x1="50" y1="20" x2="80" y2="50" stroke="#5D5CDE" stroke-width="2" />
                            <line x1="80" y1="50" x2="50" y2="80" stroke="#5D5CDE" stroke-width="2" />
                            <line x1="50" y1="80" x2="20" y2="50" stroke="#5D5CDE" stroke-width="2" />
                            <line x1="20" y1="50" x2="50" y2="20" stroke="#5D5CDE" stroke-width="2" />
                            
                            <!-- Central hub representing the "cost" being shared -->
                            <circle cx="50" cy="50" r="15" fill="#5D5CDE" />
                            <text x="50" y="54" font-size="14" text-anchor="middle" fill="white" font-weight="bold">$</text>
                        </svg>
                    </div>
                    
                    <h1 class="text-3xl font-bold text-center text-gray-900 dark:text-gray-100 mb-4">CostShare</h1>
                    <p class="text-center text-gray-600 dark:text-gray-400 mb-8 max-w-xs">Ethiopia's first super-app for ride sharing, investments, services, and marketplace</p>
                    
                    <!-- Language Selection -->
                    <div class="flex items-center justify-center mb-8">
                        <button class="lang-selector-btn mx-2 px-3 py-1 rounded-lg text-sm font-medium bg-primary text-white" data-lang="en">English</button>
                        <button class="lang-selector-btn mx-2 px-3 py-1 rounded-lg text-sm font-medium bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-300 lang-amharic" data-lang="am">አማርኛ</button>
                        <button class="lang-selector-btn mx-2 px-3 py-1 rounded-lg text-sm font-medium bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-300 lang-tigrinya" data-lang="ti">ትግርኛ</button>
                        <button class="lang-selector-btn mx-2 px-3 py-1 rounded-lg text-sm font-medium bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-300 lang-oromo" data-lang="om">Oromoo</button>
                    </div>
                </div>
                
                <div class="p-8">
                    <button id="register-btn" class="w-full bg-primary hover:bg-primary-dark text-white py-3 rounded-xl font-medium transition mb-4" id="register-text">Create an Account</button>
                    <button id="login-btn" class="w-full bg-white dark:bg-gray-800 text-primary py-3 rounded-xl font-medium border border-primary transition" id="login-text">Already have an account? Log in</button>
                </div>
            </div>
            
            <!-- Register screen from previous implementation -->
            <div id="register-screen" class="h-full flex flex-col hidden">
                <!-- Register content omitted for brevity -->
            </div>
            
            <!-- Verify screen from previous implementation -->
            <div id="verify-screen" class="h-full flex flex-col hidden">
                <!-- Verify content omitted for brevity -->
            </div>
            
            <!-- Profile Setup Screen -->
            <div id="profile-screen" class="h-full flex flex-col hidden">
                <header class="p-4 flex items-center">
                    <button id="back-to-verify-btn" class="text-gray-500 dark:text-gray-400 mr-4">
                        <i class="fas fa-arrow-left text-xl"></i>
                    </button>
                    <h1 class="text-xl font-bold text-gray-900 dark:text-gray-100" id="complete-profile-text">Complete Profile</h1>
                </header>
                
                <div class="relative mb-8 px-4">
                    <div class="connector-line"></div>
                    <div class="flex justify-between relative z-10">
                        <div class="flex flex-col items-center">
                            <div class="w-12 h-12 rounded-full bg-primary bg-opacity-20 dark:bg-opacity-30 text-primary flex items-center justify-center mb-2">
                                <i class="fas fa-check"></i>
                            </div>
                            <span class="text-xs text-gray-600 dark:text-gray-400" id="register-step3-text">Register</span>
                        </div>
                        <div class="flex flex-col items-center">
                            <div class="w-12 h-12 rounded-full bg-primary bg-opacity-20 dark:bg-opacity-30 text-primary flex items-center justify-center mb-2">
                                <i class="fas fa-check"></i>
                            </div>
                            <span class="text-xs text-gray-600 dark:text-gray-400" id="verify-step3-text">Verify</span>
                        </div>
                        <div class="flex flex-col items-center">
                            <div class="w-12 h-12 rounded-full bg-primary text-white flex items-center justify-center font-bold mb-2">3</div>
                            <span class="text-xs text-gray-600 dark:text-gray-400" id="profile-step3-text">Profile</span>
                        </div>
                    </div>
                </div>
                
                <div class="flex-1 p-4 overflow-y-auto">
                    <form id="profile-form" class="space-y-4">
                        <div class="flex justify-center mb-2">
                            <div class="relative">
                                <div class="w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center overflow-hidden border-4 border-white dark:border-gray-800 shadow-md">
                                    <i class="fas fa-user text-4xl text-gray-400 dark:text-gray-500"></i>
                                </div>
                                <button type="button" class="absolute bottom-0 right-0 bg-primary text-white w-8 h-8 rounded-full flex items-center justify-center shadow-md">
                                    <i class="fas fa-camera"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label for="first-name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="first-name-text">First Name</label>
                                <input type="text" id="first-name" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base" placeholder="Genet">
                            </div>
                            <div>
                                <label for="last-name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="last-name-text">Last Name</label>
                                <input type="text" id="last-name" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base" placeholder="Tsigab">
                            </div>
                        </div>
                        
                        <div>
                            <label for="birthdate" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="birthdate-text">Date of Birth</label>
                            <input type="date" id="birthdate" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base">
                        </div>
                        
                        <div>
                            <label for="gender" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="gender-text">Gender</label>
                            <select id="gender" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base">
                                <option value="" id="gender-select-text">Select gender</option>
                                <option value="male" id="male-text">Male</option>
                                <option value="female" id="female-text">Female</option>
                                <option value="other" id="other-gender-text">Other</option>
                                <option value="prefer-not-to-say" id="prefer-not-text">Prefer not to say</option>
                            </select>
                        </div>
                        
                        <!-- New: Sharing Preferences -->
                        <div class="pt-4">
                            <p class="text-lg font-medium text-gray-900 dark:text-gray-100 mb-2" id="sharing-preferences-text">Your Sharing Preferences</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-4" id="preferences-description-text">Select categories you're interested in sharing costs for:</p>
                            
                            <div class="grid grid-cols-2 gap-3 mb-4">
                                <label class="cursor-pointer flex items-center bg-white dark:bg-gray-800 rounded-xl p-3 shadow-sm">
                                    <input type="checkbox" class="form-checkbox h-5 w-5 text-primary rounded" checked>
                                    <span class="ml-2 text-sm text-gray-700 dark:text-gray-300" id="transport-category-text">Transportation</span>
                                </label>
                                <label class="cursor-pointer flex items-center bg-white dark:bg-gray-800 rounded-xl p-3 shadow-sm">
                                    <input type="checkbox" class="form-checkbox h-5 w-5 text-primary rounded" checked>
                                    <span class="ml-2 text-sm text-gray-700 dark:text-gray-300" id="food-category-text">Food</span>
                                </label>
                                <label class="cursor-pointer flex items-center bg-white dark:bg-gray-800 rounded-xl p-3 shadow-sm">
                                    <input type="checkbox" class="form-checkbox h-5 w-5 text-primary rounded">
                                    <span class="ml-2 text-sm text-gray-700 dark:text-gray-300" id="housing-category-text">Housing</span>
                                </label>
                                <label class="cursor-pointer flex items-center bg-white dark:bg-gray-800 rounded-xl p-3 shadow-sm">
                                    <input type="checkbox" class="form-checkbox h-5 w-5 text-primary rounded">
                                    <span class="ml-2 text-sm text-gray-700 dark:text-gray-300" id="childcare-category-text">Childcare</span>
                                </label>
                                <label class="cursor-pointer flex items-center bg-white dark:bg-gray-800 rounded-xl p-3 shadow-sm">
                                    <input type="checkbox" class="form-checkbox h-5 w-5 text-primary rounded" checked>
                                    <span class="ml-2 text-sm text-gray-700 dark:text-gray-300" id="events-category-text">Events</span>
                                </label>
                                <label class="cursor-pointer flex items-center bg-white dark:bg-gray-800 rounded-xl p-3 shadow-sm">
                                    <input type="checkbox" class="form-checkbox h-5 w-5 text-primary rounded">
                                    <span class="ml-2 text-sm text-gray-700 dark:text-gray-300" id="utilities-category-text">Utilities</span>
                                </label>
                            </div>
                        </div>
                        
                        <!-- ID Verification -->
                        <div class="pt-4">
                            <p class="text-lg font-medium text-gray-900 dark:text-gray-100 mb-2" id="id-verification-text">National ID Verification</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-4" id="id-description-text">Verifying your National ID increases your profile trust and gives you preferred access to services.</p>
                            
                            <div class="bg-green-50 dark:bg-green-900 dark:bg-opacity-20 border border-green-200 dark:border-green-800 rounded-xl p-4 mb-4">
                                <div class="flex items-start">
                                    <div class="flex-shrink-0 mt-0.5">
                                        <i class="fas fa-shield-check text-accent text-xl secure-pulse"></i>
                                    </div>
                                    <div class="ml-3">
                                        <h3 class="text-sm font-medium text-accent" id="verified-partners-text">Verified Partners Get:</h3>
                                        <ul class="mt-2 text-sm text-gray-600 dark:text-gray-400 space-y-1">
                                            <li class="flex items-center">
                                                <i class="fas fa-check text-xs text-accent mr-2"></i>
                                                <span id="trust-badge-text">Trust Badge</span>
                                            </li>
                                            <li class="flex items-center">
                                                <i class="fas fa-check text-xs text-accent mr-2"></i>
                                                <span id="priority-text">Priority in search results</span>
                                            </li>
                                            <li class="flex items-center">
                                                <i class="fas fa-check text-xs text-accent mr-2"></i>
                                                <span id="higher-limits-text">Higher transaction limits</span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="grid grid-cols-2 gap-4 mb-4">
                                <div>
                                    <div class="h-32 bg-gray-100 dark:bg-gray-800 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg flex flex-col items-center justify-center">
                                        <i class="fas fa-id-card text-gray-400 dark:text-gray-500 text-3xl mb-2"></i>
                                        <span class="text-sm text-gray-500 dark:text-gray-400 text-center px-2" id="front-id-text">Upload Front of ID</span>
                                    </div>
                                </div>
                                <div>
                                    <div class="h-32 bg-gray-100 dark:bg-gray-800 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg flex flex-col items-center justify-center">
                                        <i class="fas fa-id-card text-gray-400 dark:text-gray-500 text-3xl mb-2"></i>
                                        <span class="text-sm text-gray-500 dark:text-gray-400 text-center px-2" id="back-id-text">Upload Back of ID</span>
                                    </div>
                                </div>
                            </div>
                            
                            <p class="text-xs text-gray-500 dark:text-gray-400 mb-2" id="id-skip-text">You can skip ID verification now and complete it later from your profile settings.</p>
                        </div>
                    </form>
                </div>
                
                <div class="p-4 space-y-3">
                    <button id="complete-registration-btn" class="w-full bg-primary hover:bg-primary-dark text-white py-3 rounded-xl font-medium transition" id="complete-registration-text">Complete Registration</button>
                    <button id="skip-verification-btn" class="w-full bg-white dark:bg-gray-800 text-primary py-3 rounded-xl font-medium border border-primary transition" id="skip-verification-text">Skip ID Verification</button>
                </div>
            </div>
            
            <!-- Login Screen -->
            <div id="login-screen" class="h-full flex flex-col hidden">
                <!-- Login content omitted for brevity -->
            </div>
        </div>
        
        <!-- Main App (Initially Hidden) -->
        <div id="main-app" class="h-full flex flex-col hidden">
            <!-- Header -->
            <header class="p-4 bg-white dark:bg-dark shadow-sm dark:shadow-gray-800 z-10 flex items-center justify-between">
                <!-- Logo -->
                <div class="flex items-center">
                    <div class="w-10 h-10 relative mr-2">
                        <svg viewBox="0 0 100 100" class="w-full h-full">
                            <!-- Logo SVG content -->
                            <circle cx="50" cy="50" r="45" fill="none" stroke="#5D5CDE" stroke-width="2" />
                            <circle cx="50" cy="20" r="8" fill="#078930" />
                            <circle cx="80" cy="50" r="8" fill="#FCDD09" />
                            <circle cx="50" cy="80" r="8" fill="#DA121A" />
                            <circle cx="20" cy="50" r="8" fill="#5D5CDE" />
                            <line x1="50" y1="20" x2="80" y2="50" stroke="#5D5CDE" stroke-width="2" />
                            <line x1="80" y1="50" x2="50" y2="80" stroke="#5D5CDE" stroke-width="2" />
                            <line x1="50" y1="80" x2="20" y2="50" stroke="#5D5CDE" stroke-width="2" />
                            <line x1="20" y1="50" x2="50" y2="20" stroke="#5D5CDE" stroke-width="2" />
                            <circle cx="50" cy="50" r="15" fill="#5D5CDE" />
                            <text x="50" y="54" font-size="14" text-anchor="middle" fill="white" font-weight="bold">$</text>
                        </svg>
                    </div>
                    <h1 class="text-xl font-bold text-gray-900 dark:text-gray-100">CostShare</h1>
                </div>
                
                <!-- Right side icons -->
                <div class="flex items-center space-x-4">
                    <button id="search-btn" class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary">
                        <i class="fas fa-search text-xl"></i>
                    </button>
                    <button id="language-btn" class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary">
                        <i class="fas fa-globe text-xl"></i>
                    </button>
                    <button id="notifications-btn" class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary relative">
                        <i class="fas fa-bell text-xl"></i>
                        <span class="absolute -top-1 -right-1 bg-ethiopian-red text-white text-xs rounded-full h-4 w-4 flex items-center justify-center">3</span>
                    </button>
                    <button id="profile-btn" class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary">
                        <i class="fas fa-user-circle text-xl"></i>
                    </button>
                </div>
            </header>
            
            <!-- Main Content -->
            <main class="flex-1 overflow-auto p-4">
                <!-- Welcome Card -->
                <div class="bg-white dark:bg-gray-800 rounded-xl p-5 shadow-md mb-6">
                    <div class="flex items-center">
                        <div class="mr-3">
                            <div class="w-12 h-12 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center text-primary">
                                <i class="fas fa-user text-xl"></i>
                            </div>
                        </div>
                        <div>
                            <h2 class="text-xl font-bold text-gray-900 dark:text-gray-100" id="welcome-text">Welcome, Genet</h2>
                            <div class="flex items-center">
                                <p class="text-gray-600 dark:text-gray-400 text-sm" id="subwelcome-text">What would you like to share today?</p>
                                <div class="ml-2 bg-accent text-white text-xs px-2 py-0.5 rounded-full flex items-center badge-pulse">
                                    <i class="fas fa-shield-check text-xs mr-1"></i>
                                    <span id="verified-text">Verified</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Enhanced Category Selection -->
                <div class="overflow-x-auto pb-2 mb-6">
                    <div class="flex space-x-3 min-w-max">
                        <button class="category-pill selected whitespace-nowrap bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-full text-sm shadow-sm border border-gray-200 dark:border-gray-700" data-category="all">
                            <i class="fas fa-th-large mr-1"></i> <span id="all-categories-text">All Categories</span>
                        </button>
                        <button class="category-pill whitespace-nowrap bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-full text-sm shadow-sm border border-gray-200 dark:border-gray-700" data-category="ride">
                            <i class="fas fa-car mr-1"></i> <span id="transport-text">Transport</span>
                        </button>
                        <button class="category-pill whitespace-nowrap bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-full text-sm shadow-sm border border-gray-200 dark:border-gray-700" data-category="food">
                            <i class="fas fa-utensils mr-1"></i> <span id="food-text">Food</span>
                        </button>
                        <button class="category-pill whitespace-nowrap bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-full text-sm shadow-sm border border-gray-200 dark:border-gray-700" data-category="housing">
                            <i class="fas fa-home mr-1"></i> <span id="housing-text">Housing</span>
                        </button>
                        <button class="category-pill whitespace-nowrap bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-full text-sm shadow-sm border border-gray-200 dark:border-gray-700" data-category="events">
                            <i class="fas fa-calendar-alt mr-1"></i> <span id="events-text">Events</span>
                        </button>
                        <button class="category-pill whitespace-nowrap bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-full text-sm shadow-sm border border-gray-200 dark:border-gray-700" data-category="utilities">
                            <i class="fas fa-bolt mr-1"></i> <span id="utilities-text">Utilities</span>
                        </button>
                    </div>
                </div>
                
                <!-- Quick Actions -->
                <div class="grid grid-cols-4 gap-4 mb-6">
                    <button class="flex flex-col items-center justify-center p-3 bg-primary bg-opacity-10 dark:bg-opacity-20 rounded-xl transition hover:bg-opacity-20 dark:hover:bg-opacity-30" id="create-request-btn">
                        <i class="fas fa-plus-circle text-primary text-xl mb-2"></i>
                        <span class="text-xs text-gray-700 dark:text-gray-300" id="new-request-text">New Request</span>
                    </button>
                    <button class="flex flex-col items-center justify-center p-3 bg-ethiopian-green bg-opacity-10 dark:bg-opacity-20 rounded-xl transition hover:bg-opacity-20 dark:hover:bg-opacity-30" id="create-group-btn">
                        <i class="fas fa-users text-ethiopian-green text-xl mb-2"></i>
                        <span class="text-xs text-gray-700 dark:text-gray-300" id="new-group-text">Create Group</span>
                    </button>
                    <button class="flex flex-col items-center justify-center p-3 bg-ethiopian-yellow bg-opacity-10 dark:bg-opacity-20 rounded-xl transition hover:bg-opacity-20 dark:hover:bg-opacity-30" id="track-expenses-btn">
                        <i class="fas fa-receipt text-ethiopian-yellow text-xl mb-2"></i>
                        <span class="text-xs text-gray-700 dark:text-gray-300" id="track-expenses-text">Track Expenses</span>
                    </button>
                    <button class="flex flex-col items-center justify-center p-3 bg-ethiopian-red bg-opacity-10 dark:bg-opacity-20 rounded-xl transition hover:bg-opacity-20 dark:hover:bg-opacity-30" id="create-event-btn">
                        <i class="fas fa-calendar-plus text-ethiopian-red text-xl mb-2"></i>
                        <span class="text-xs text-gray-700 dark:text-gray-300" id="new-event-text">New Event</span>
                    </button>
                </div>

                <!-- Content Container -->
                <div id="content-container">
                    <!-- Home Section (Initially Visible) -->
                    <section id="home-section" class="slide-in">
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4" id="active-requests-heading">Active Sharing Requests</h3>
                        
                        <!-- Sharing Requests List -->
                        <div class="space-y-4 mb-6">
                            <!-- Request 1 -->
                            <div class="bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm">
                                <div class="flex items-start">
                                    <div class="flex-shrink-0 mt-1">
                                        <div class="w-10 h-10 rounded-full bg-ethiopian-green bg-opacity-10 flex items-center justify-center">
                                            <i class="fas fa-car text-ethiopian-green"></i>
                                        </div>
                                    </div>
                                    <div class="ml-3 flex-1">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <h4 class="font-medium text-gray-900 dark:text-gray-100">Looking for ride share to Meskel Square</h4>
                                                <p class="text-xs text-gray-500 dark:text-gray-400">Posted by Kibrom Gebregergs • <span class="text-primary">15 min ago</span></p>
                                            </div>
                                            <div class="bg-primary bg-opacity-10 dark:bg-opacity-20 text-primary text-xs px-2 py-1 rounded-full">
                                                Transport
                                            </div>
                                        </div>
                                        <div class="mt-2 text-sm text-gray-600 dark:text-gray-400">
                                            Looking for 3 people to share a taxi from Bole to Meskel Square tomorrow at 9am
                                        </div>
                                        <div class="mt-3 flex items-center justify-between">
                                            <div class="flex -space-x-2">
                                                <div class="w-6 h-6 rounded-full bg-gray-200 dark:bg-gray-700 border border-white dark:border-gray-800 flex items-center justify-center text-xs overflow-hidden">
                                                    <i class="fas fa-user"></i>
                                                </div>
                                                <div class="w-6 h-6 rounded-full bg-gray-200 dark:bg-gray-700 border border-white dark:border-gray-800 flex items-center justify-center text-xs overflow-hidden">
                                                    <i class="fas fa-user"></i>
                                                </div>
                                                <div class="w-6 h-6 rounded-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 flex items-center justify-center text-xs text-gray-500 dark:text-gray-400">
                                                    <span>+1</span>
                                                </div>
                                            </div>
                                            <button class="bg-primary text-white text-xs px-3 py-1.5 rounded-lg" id="join-btn-1">Join</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Request 2 -->
                            <div class="bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm">
                                <div class="flex items-start">
                                    <div class="flex-shrink-0 mt-1">
                                        <div class="w-10 h-10 rounded-full bg-ethiopian-yellow bg-opacity-10 flex items-center justify-center">
                                            <i class="fas fa-utensils text-ethiopian-yellow"></i>
                                        </div>
                                    </div>
                                    <div class="ml-3 flex-1">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <h4 class="font-medium text-gray-900 dark:text-gray-100">Bulk grocery shopping group</h4>
                                                <p class="text-xs text-gray-500 dark:text-gray-400">Posted by Naysa Kibrom • <span class="text-primary">2 hours ago</span></p>
                                            </div>
                                            <div class="bg-primary bg-opacity-10 dark:bg-opacity-20 text-primary text-xs px-2 py-1 rounded-full">
                                                Food
                                            </div>
                                        </div>
                                        <div class="mt-2 text-sm text-gray-600 dark:text-gray-400">
                                            Planning to buy groceries in bulk this Saturday to share costs. Need 5 more people to join.
                                        </div>
                                        <div class="mt-3 flex items-center justify-between">
                                            <div class="flex -space-x-2">
                                                <div class="w-6 h-6 rounded-full bg-gray-200 dark:bg-gray-700 border border-white dark:border-gray-800 flex items-center justify-center text-xs overflow-hidden">
                                                    <i class="fas fa-user"></i>
                                                </div>
                                                <div class="w-6 h-6 rounded-full bg-gray-200 dark:bg-gray-700 border border-white dark:border-gray-800 flex items-center justify-center text-xs overflow-hidden">
                                                    <i class="fas fa-user"></i>
                                                </div>
                                                <div class="w-6 h-6 rounded-full bg-gray-200 dark:bg-gray-700 border border-white dark:border-gray-800 flex items-center justify-center text-xs overflow-hidden">
                                                    <i class="fas fa-user"></i>
                                                </div>
                                                <div class="w-6 h-6 rounded-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 flex items-center justify-center text-xs text-gray-500 dark:text-gray-400">
                                                    <span>+2</span>
                                                </div>
                                            </div>
                                            <button class="bg-primary text-white text-xs px-3 py-1.5 rounded-lg" id="join-btn-2">Join</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Request 3 -->
                            <div class="bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm">
                                <div class="flex items-start">
                                    <div class="flex-shrink-0 mt-1">
                                        <div class="w-10 h-10 rounded-full bg-ethiopian-red bg-opacity-10 flex items-center justify-center">
                                            <i class="fas fa-calendar-alt text-ethiopian-red"></i>
                                        </div>
                                    </div>
                                    <div class="ml-3 flex-1">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <h4 class="font-medium text-gray-900 dark:text-gray-100">Concert tickets group purchase</h4>
                                                <p class="text-xs text-gray-500 dark:text-gray-400">Posted by Ithiel Kibrom • <span class="text-primary">Yesterday</span></p>
                                            </div>
                                            <div class="bg-primary bg-opacity-10 dark:bg-opacity-20 text-primary text-xs px-2 py-1 rounded-full">
                                                Events
                                            </div>
                                        </div>
                                        <div class="mt-2 text-sm text-gray-600 dark:text-gray-400">
                                            Looking to buy concert tickets in bulk for a discount. Already have 10 people, need 5 more!
                                        </div>
                                        <div class="mt-3 flex items-center justify-between">
                                            <div class="flex -space-x-2">
                                                <div class="w-6 h-6 rounded-full bg-gray-200 dark:bg-gray-700 border border-white dark:border-gray-800 flex items-center justify-center text-xs overflow-hidden">
                                                    <i class="fas fa-user"></i>
                                                </div>
                                                <div class="w-6 h-6 rounded-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 flex items-center justify-center text-xs text-gray-500 dark:text-gray-400">
                                                    <span>+9</span>
                                                </div>
                                            </div>
                                            <button class="bg-primary text-white text-xs px-3 py-1.5 rounded-lg" id="join-btn-3">Join</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- My Active Groups -->
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4" id="my-groups-heading">My Active Groups</h3>
                        
                        <div class="space-y-4 mb-6">
                            <!-- Group 1 -->
                            <div class="bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm">
                                <div class="flex">
                                    <div class="flex-shrink-0">
                                        <div class="w-12 h-12 rounded-lg bg-primary bg-opacity-10 dark:bg-opacity-20 flex items-center justify-center">
                                            <i class="fas fa-users text-primary text-xl"></i>
                                        </div>
                                    </div>
                                    <div class="ml-4 flex-1">
                                        <div class="flex justify-between items-start">
                                            <h4 class="font-medium text-gray-900 dark:text-gray-100">Addis Utility Sharing Group</h4>
                                            <span class="bg-accent bg-opacity-10 text-accent text-xs px-2 py-1 rounded-full flex items-center">
                                                <i class="fas fa-users text-xs mr-1"></i> 7 members
                                            </span>
                                        </div>
                                        <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">Shared internet and utility expenses for Bole area apartments</p>
                                        <div class="mt-3 flex justify-between items-center">
                                            <span class="text-xs text-gray-500 dark:text-gray-400">Last activity: 2 hours ago</span>
                                            <button class="text-primary text-xs font-medium">View Details</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Group 2 -->
                            <div class="bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm">
                                <div class="flex">
                                    <div class="flex-shrink-0">
                                        <div class="w-12 h-12 rounded-lg bg-ethiopian-red bg-opacity-10 dark:bg-opacity-20 flex items-center justify-center">
                                            <i class="fas fa-carpool text-ethiopian-red text-xl"></i>
                                        </div>
                                    </div>
                                    <div class="ml-4 flex-1">
                                        <div class="flex justify-between items-start">
                                            <h4 class="font-medium text-gray-900 dark:text-gray-100">Daily Office Carpool Group</h4>
                                            <span class="bg-accent bg-opacity-10 text-accent text-xs px-2 py-1 rounded-full flex items-center">
                                                <i class="fas fa-users text-xs mr-1"></i> 4 members
                                            </span>
                                        </div>
                                        <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">Morning and evening carpool to the business district</p>
                                        <div class="mt-3 flex justify-between items-center">
                                            <span class="text-xs text-gray-500 dark:text-gray-400">Last activity: Today</span>
                                            <button class="text-primary text-xs font-medium">View Details</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Marketplace Preview -->
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100" id="marketplace-heading">Marketplace</h3>
                            <a href="#" class="text-primary text-sm" id="see-all-text">See all</a>
                        </div>
                        
                        <div class="grid grid-cols-2 gap-3 mb-6">
                            <div class="bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-sm">
                                <div class="h-32 bg-gray-200 dark:bg-gray-700 relative">
                                    <div class="absolute inset-0 flex items-center justify-center text-gray-400 dark:text-gray-500">
                                        <i class="fas fa-shopping-basket text-4xl"></i>
                                    </div>
                                    <div class="absolute top-2 right-2 bg-accent text-white text-xs px-2 py-1 rounded-full">Bulk</div>
                                </div>
                                <div class="p-3">
                                    <h5 class="font-medium text-gray-900 dark:text-gray-100 text-sm">20kg Teff - Bulk Purchase</h5>
                                    <div class="flex justify-between items-center mt-2">
                                        <span class="text-sm font-bold text-gray-900 dark:text-gray-100">2,400 ETB</span>
                                        <button class="text-primary">
                                            <i class="fas fa-share-alt text-sm"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-sm">
                                <div class="h-32 bg-gray-200 dark:bg-gray-700 relative">
                                    <div class="absolute inset-0 flex items-center justify-center text-gray-400 dark:text-gray-500">
                                        <i class="fas fa-tools text-4xl"></i>
                                    </div>
                                </div>
                                <div class="p-3">
                                    <h5 class="font-medium text-gray-900 dark:text-gray-100 text-sm">Power Tools for Rent</h5>
                                    <div class="flex justify-between items-center mt-2">
                                        <span class="text-sm font-bold text-gray-900 dark:text-gray-100">150 ETB/day</span>
                                        <button class="text-primary">
                                            <i class="fas fa-share-alt text-sm"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Upcoming Events -->
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100" id="events-heading">Upcoming Events</h3>
                            <a href="#" class="text-primary text-sm" id="view-all-text">View all</a>
                        </div>
                        
                        <div class="space-y-4 mb-6">
                            <div class="bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm">
                                <div class="flex">
                                    <div class="flex-shrink-0">
                                        <div class="w-12 h-16 bg-primary bg-opacity-10 dark:bg-opacity-20 rounded-lg flex flex-col items-center justify-center">
                                            <span class="text-primary text-xs font-medium">APR</span>
                                            <span class="text-primary text-xl font-bold">15</span>
                                        </div>
                                    </div>
                                    <div class="ml-4 flex-1">
                                        <h4 class="font-medium text-gray-900 dark:text-gray-100">Community Market Day</h4>
                                        <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">Group purchase event at Mercato</p>
                                        <div class="mt-3 flex items-center justify-between">
                                            <div class="flex items-center text-gray-500 dark:text-gray-400 text-xs">
                                                <i class="fas fa-map-marker-alt mr-1"></i>
                                                <span>Mercato, Addis Ababa</span>
                                            </div>
                                            <div class="flex items-center text-gray-500 dark:text-gray-400 text-xs">
                                                <i class="fas fa-users mr-1"></i>
                                                <span>23 going</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Community Guidelines Preview -->
                        <div class="bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm mb-6">
                            <div class="flex items-center mb-3">
                                <div class="w-10 h-10 rounded-full bg-primary bg-opacity-10 dark:bg-opacity-20 flex items-center justify-center mr-3">
                                    <i class="fas fa-shield-alt text-primary"></i>
                                </div>
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100" id="community-guidelines-heading">Community Guidelines</h3>
                            </div>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-3" id="guidelines-text">
                                Our community thrives on trust, respect, and cooperation. Make sure to follow our guidelines for a positive sharing experience.
                            </p>
                            <button class="text-primary text-sm font-medium" id="read-guidelines-text">Read Guidelines</button>
                        </div>
                        
                        <!-- Educational Resources -->
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4" id="resources-heading">Educational Resources</h3>
                        
                        <div class="space-y-3 mb-6">
                            <div class="bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-sm">
                                <div class="h-32 bg-gray-200 dark:bg-gray-700 relative">
                                    <div class="absolute inset-0 flex items-center justify-center text-gray-400 dark:text-gray-500">
                                        <i class="fas fa-lightbulb text-4xl"></i>
                                    </div>
                                    <div class="absolute bottom-0 inset-x-0 bg-gradient-to-t from-black to-transparent p-3">
                                        <h4 class="text-white font-medium">The Benefits of Cost Sharing</h4>
                                    </div>
                                </div>
                                <div class="p-3">
                                    <p class="text-xs text-gray-500 dark:text-gray-400 mb-2">Learn how cost sharing can save you money and build community.</p>
                                    <button class="text-primary text-xs font-medium" id="read-article-text">Read Article</button>
                                </div>
                            </div>
                        </div>
                    </section>
                    
                    <!-- Groups Section (Initially Hidden) -->
                    <section id="groups-section" class="hidden">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100" id="my-groups-title">My Groups</h3>
                            <button class="bg-primary text-white text-sm px-3 py-1 rounded-lg flex items-center" id="create-group-btn2">
                                <i class="fas fa-plus text-xs mr-1"></i>
                                <span id="create-group-text">Create Group</span>
                            </button>
                        </div>
                        
                        <div class="space-y-4 mb-6">
                            <!-- Group 1 -->
                            <div class="bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-sm">
                                <div class="p-4">
                                    <div class="flex items-start">
                                        <div class="flex-shrink-0">
                                            <div class="w-12 h-12 rounded-lg bg-primary bg-opacity-10 dark:bg-opacity-20 flex items-center justify-center">
                                                <i class="fas fa-users text-primary text-xl"></i>
                                            </div>
                                        </div>
                                        <div class="ml-4 flex-1">
                                            <div class="flex justify-between items-start">
                                                <h4 class="font-medium text-gray-900 dark:text-gray-100">Addis Utility Sharing Group</h4>
                                                <span class="bg-accent bg-opacity-10 text-accent text-xs px-2 py-1 rounded-full flex items-center">
                                                    <i class="fas fa-users text-xs mr-1"></i> 7 members
                                                </span>
                                            </div>
                                            <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">Shared internet and utility expenses for Bole area apartments</p>
                                        </div>
                                    </div>
                                    <div class="mt-4 border-t border-gray-200 dark:border-gray-700 pt-3">
                                        <div class="flex justify-between items-center">
                                            <div class="flex -space-x-2">
                                                <div class="w-7 h-7 rounded-full bg-gray-200 dark:bg-gray-700 border-2 border-white dark:border-gray-800 flex items-center justify-center text-xs overflow-hidden">
                                                    <i class="fas fa-user"></i>
                                                </div>
                                                <div class="w-7 h-7 rounded-full bg-gray-200 dark:bg-gray-700 border-2 border-white dark:border-gray-800 flex items-center justify-center text-xs overflow-hidden">
                                                    <i class="fas fa-user"></i>
                                                </div>
                                                <div class="w-7 h-7 rounded-full bg-gray-200 dark:bg-gray-700 border-2 border-white dark:border-gray-800 flex items-center justify-center text-xs overflow-hidden">
                                                    <i class="fas fa-user"></i>
                                                </div>
                                                <div class="w-7 h-7 rounded-full bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-700 flex items-center justify-center text-xs text-gray-500 dark:text-gray-400">
                                                    <span>+4</span>
                                                </div>
                                            </div>
                                            <div class="flex items-center">
                                                <span class="text-xs text-gray-500 dark:text-gray-400 mr-3">You owe: 450 ETB</span>
                                                <button class="bg-primary text-white text-xs px-3 py-1 rounded-lg" id="view-group-1-btn">View</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Group 2 -->
                            <div class="bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-sm">
                                <div class="p-4">
                                    <div class="flex items-start">
                                        <div class="flex-shrink-0">
                                            <div class="w-12 h-12 rounded-lg bg-ethiopian-red bg-opacity-10 dark:bg-opacity-20 flex items-center justify-center">
                                                <i class="fas fa-car text-ethiopian-red text-xl"></i>
                                            </div>
                                        </div>
                                        <div class="ml-4 flex-1">
                                            <div class="flex justify-between items-start">
                                                <h4 class="font-medium text-gray-900 dark:text-gray-100">Daily Office Carpool Group</h4>
                                                <span class="bg-accent bg-opacity-10 text-accent text-xs px-2 py-1 rounded-full flex items-center">
                                                    <i class="fas fa-users text-xs mr-1"></i> 4 members
                                                </span>
                                            </div>
                                            <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">Morning and evening carpool to the business district</p>
                                        </div>
                                    </div>
                                    <div class="mt-4 border-t border-gray-200 dark:border-gray-700 pt-3">
                                        <div class="flex justify-between items-center">
                                            <div class="flex -space-x-2">
                                                <div class="w-7 h-7 rounded-full bg-gray-200 dark:bg-gray-700 border-2 border-white dark:border-gray-800 flex items-center justify-center text-xs overflow-hidden">
                                                    <i class="fas fa-user"></i>
                                                </div>
                                                <div class="w-7 h-7 rounded-full bg-gray-200 dark:bg-gray-700 border-2 border-white dark:border-gray-800 flex items-center justify-center text-xs overflow-hidden">
                                                    <i class="fas fa-user"></i>
                                                </div>
                                                <div class="w-7 h-7 rounded-full bg-gray-200 dark:bg-gray-700 border-2 border-white dark:border-gray-800 flex items-center justify-center text-xs overflow-hidden">
                                                    <i class="fas fa-user"></i>
                                                </div>
                                                <div class="w-7 h-7 rounded-full bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-700 flex items-center justify-center text-xs text-gray-500 dark:text-gray-400">
                                                    <span>+1</span>
                                                </div>
                                            </div>
                                            <div class="flex items-center">
                                                <span class="text-xs text-gray-500 dark:text-gray-400 mr-3">Next ride: Today, 5PM</span>
                                                <button class="bg-primary text-white text-xs px-3 py-1 rounded-lg" id="view-group-2-btn">View</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4" id="suggested-groups-heading">Suggested Groups</h3>
                        
                        <div class="space-y-4 mb-6">
                            <div class="bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm">
                                <div class="flex items-start">
                                    <div class="flex-shrink-0">
                                        <div class="w-12 h-12 rounded-lg bg-ethiopian-green bg-opacity-10 dark:bg-opacity-20 flex items-center justify-center">
                                            <i class="fas fa-shopping-basket text-ethiopian-green text-xl"></i>
                                        </div>
                                    </div>
                                    <div class="ml-4 flex-1">
                                        <div class="flex justify-between items-start">
                                            <h4 class="font-medium text-gray-900 dark:text-gray-100">Merkato Bulk Buying Group</h4>
                                            <span class="bg-accent bg-opacity-10 text-accent text-xs px-2 py-1 rounded-full flex items-center">
                                                <i class="fas fa-users text-xs mr-1"></i> 15 members
                                            </span>
                                        </div>
                                        <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">Weekly group for buying household goods in bulk at Merkato</p>
                                        <div class="mt-3 flex justify-between items-center">
                                            <span class="text-xs text-gray-500 dark:text-gray-400">3km from you</span>
                                            <button class="bg-primary text-white text-xs px-3 py-1 rounded-lg" id="join-group-btn">Join Group</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm">
                                <div class="flex items-start">
                                    <div class="flex-shrink-0">
                                        <div class="w-12 h-12 rounded-lg bg-ethiopian-yellow bg-opacity-10 dark:bg-opacity-20 flex items-center justify-center">
                                            <i class="fas fa-lightbulb text-ethiopian-yellow text-xl"></i>
                                        </div>
                                    </div>
                                    <div class="ml-4 flex-1">
                                        <div class="flex justify-between items-start">
                                            <h4 class="font-medium text-gray-900 dark:text-gray-100">Bole Solar Power Co-op</h4>
                                            <span class="bg-accent bg-opacity-10 text-accent text-xs px-2 py-1 rounded-full flex items-center">
                                                <i class="fas fa-users text-xs mr-1"></i> 23 members
                                            </span>
                                        </div>
                                        <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">Cooperative for shared solar power installation and maintenance</p>
                                        <div class="mt-3 flex justify-between items-center">
                                            <span class="text-xs text-gray-500 dark:text-gray-400">Active since Jan 2023</span>
                                            <button class="bg-primary text-white text-xs px-3 py-1 rounded-lg" id="join-group-btn2">Join Group</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                    
                    <!-- Expenses Section (Initially Hidden) -->
                    <section id="expenses-section" class="hidden">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100" id="expense-tracker-heading">Expense Tracker</h3>
                            <button class="bg-primary text-white text-sm px-3 py-1 rounded-lg flex items-center" id="add-expense-btn">
                                <i class="fas fa-plus text-xs mr-1"></i>
                                <span id="add-expense-text">Add Expense</span>
                            </button>
                        </div>
                        
                        <!-- Summary Cards -->
                        <div class="grid grid-cols-2 gap-3 mb-6">
                            <div class="bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm">
                                <h4 class="text-sm text-gray-500 dark:text-gray-400" id="you-owe-text">You Owe</h4>
                                <p class="text-xl font-bold text-ethiopian-red mt-1">450 ETB</p>
                                <div class="flex items-center mt-2">
                                    <span class="text-xs text-gray-500 dark:text-gray-400" id="across-groups-text">Across 2 groups</span>
                                </div>
                            </div>
                            
                            <div class="bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm">
                                <h4 class="text-sm text-gray-500 dark:text-gray-400" id="you-are-owed-text">You are Owed</h4>
                                <p class="text-xl font-bold text-accent mt-1">180 ETB</p>
                                <div class="flex items-center mt-2">
                                    <span class="text-xs text-gray-500 dark:text-gray-400" id="from-people-text">From 3 people</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Recent Expenses -->
                        <h4 class="text-base font-semibold text-gray-700 dark:text-gray-300 mb-3" id="recent-expenses-heading">Recent Expenses</h4>
                        
                        <div class="space-y-3 mb-6">
                            <div class="bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm">
                                <div class="flex justify-between items-start">
                                    <div class="flex items-center">
                                        <div class="w-10 h-10 rounded-full bg-primary bg-opacity-10 dark:bg-opacity-20 flex items-center justify-center mr-3">
                                            <i class="fas fa-bolt text-primary"></i>
                                        </div>
                                        <div>
                                            <h5 class="font-medium text-gray-900 dark:text-gray-100">Utility Bill</h5>
                                            <p class="text-xs text-gray-500 dark:text-gray-400">Addis Utility Sharing Group</p>
                                        </div>
                                    </div>
                                    <div class="text-right">
                                        <p class="font-medium text-gray-900 dark:text-gray-100">450 ETB</p>
                                        <p class="text-xs text-ethiopian-red">You owe</p>
                                    </div>
                                </div>
                                <div class="mt-3 flex justify-between items-center">
                                    <span class="text-xs text-gray-500 dark:text-gray-400">Added by Kibrom • Yesterday</span>
                                    <button class="bg-primary text-white text-xs px-3 py-1 rounded-lg" id="pay-btn-1">Pay</button>
                                </div>
                            </div>
                            
                            <div class="bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm">
                                <div class="flex justify-between items-start">
                                    <div class="flex items-center">
                                        <div class="w-10 h-10 rounded-full bg-ethiopian-yellow bg-opacity-10 dark:bg-opacity-20 flex items-center justify-center mr-3">
                                            <i class="fas fa-gas-pump text-ethiopian-yellow"></i>
                                        </div>
                                        <div>
                                            <h5 class="font-medium text-gray-900 dark:text-gray-100">Fuel Cost</h5>
                                            <p class="text-xs text-gray-500 dark:text-gray-400">Daily Office Carpool Group</p>
                                        </div>
                                    </div>
                                    <div class="text-right">
                                        <p class="font-medium text-gray-900 dark:text-gray-100">90 ETB</p>
                                        <p class="text-xs text-accent">Settled</p>
                                    </div>
                                </div>
                                <div class="mt-3 flex justify-between items-center">
                                    <span class="text-xs text-gray-500 dark:text-gray-400">Added by you • 3 days ago</span>
                                    <button class="bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 text-xs px-3 py-1 rounded-lg" id="details-btn-1">Details</button>
                                </div>
                            </div>
                            
                            <div class="bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm">
                                <div class="flex justify-between items-start">
                                    <div class="flex items-center">
                                        <div class="w-10 h-10 rounded-full bg-ethiopian-green bg-opacity-10 dark:bg-opacity-20 flex items-center justify-center mr-3">
                                            <i class="fas fa-shopping-basket text-ethiopian-green"></i>
                                        </div>
                                        <div>
                                            <h5 class="font-medium text-gray-900 dark:text-gray-100">Grocery Shopping</h5>
                                            <p class="text-xs text-gray-500 dark:text-gray-400">Weekly Meal Prep Group</p>
                                        </div>
                                    </div>
                                    <div class="text-right">
                                        <p class="font-medium text-gray-900 dark:text-gray-100">180 ETB</p>
                                        <p class="text-xs text-accent">You are owed</p>
                                    </div>
                                </div>
                                <div class="mt-3 flex justify-between items-center">
                                    <span class="text-xs text-gray-500 dark:text-gray-400">Added by you • Last week</span>
                                    <button class="bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 text-xs px-3 py-1 rounded-lg" id="details-btn-2">Details</button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Payment Methods -->
                        <h4 class="text-base font-semibold text-gray-700 dark:text-gray-300 mb-3" id="payment-methods-heading">Payment Methods</h4>
                        
                        <div class="space-y-3 mb-6">
                            <div class="bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center">
                                        <div class="w-10 h-10 rounded-full bg-telebirr bg-opacity-10 flex items-center justify-center mr-3">
                                            <i class="fas fa-mobile-alt text-telebirr"></i>
                                        </div>
                                        <div>
                                            <h5 class="font-medium text-gray-900 dark:text-gray-100">Telebirr</h5>
                                            <p class="text-xs text-gray-500 dark:text-gray-400">+251 9XX XXX XXX</p>
                                        </div>
                                    </div>
                                    <div class="flex items-center">
                                        <span class="bg-accent text-white text-xs px-2 py-0.5 rounded-full mr-2">Default</span>
                                        <button class="text-gray-500 dark:text-gray-400">
                                            <i class="fas fa-ellipsis-v"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center">
                                        <div class="w-10 h-10 rounded-full bg-cbe bg-opacity-10 flex items-center justify-center mr-3">
                                            <i class="fas fa-university text-cbe"></i>
                                        </div>
                                        <div>
                                            <h5 class="font-medium text-gray-900 dark:text-gray-100">CBE Birr</h5>
                                            <p class="text-xs text-gray-500 dark:text-gray-400">Connected</p>
                                        </div>
                                    </div>
                                    <button class="text-gray-500 dark:text-gray-400">
                                        <i class="fas fa-ellipsis-v"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <button class="flex items-center justify-center w-full bg-gray-100 dark:bg-gray-700 text-primary p-3 rounded-xl">
                                <i class="fas fa-plus mr-2"></i>
                                <span id="add-payment-method-text">Add Payment Method</span>
                            </button>
                        </div>
                    </section>
                </div>
            </main>
            
            <!-- Bottom Navigation -->
            <nav class="bg-white dark:bg-gray-900 shadow-[0_-2px_10px_rgba(0,0,0,0.05)] dark:shadow-[0_-2px_10px_rgba(0,0,0,0.2)] p-2">
                <div class="flex justify-around items-center">
                    <button class="nav-btn flex flex-col items-center p-2 text-primary" data-section="home">
                        <i class="fas fa-home text-xl mb-1"></i>
                        <span class="text-xs" id="nav-home-text">Home</span>
                    </button>
                    <button class="nav-btn flex flex-col items-center p-2 text-gray-500 dark:text-gray-400" data-section="groups">
                        <i class="fas fa-users text-xl mb-1"></i>
                        <span class="text-xs" id="nav-groups-text">Groups</span>
                    </button>
                    <button class="nav-btn flex flex-col items-center p-2 text-gray-500 dark:text-gray-400" data-section="expenses">
                        <i class="fas fa-receipt text-xl mb-1"></i>
                        <span class="text-xs" id="nav-expenses-text">Expenses</span>
                    </button>
                    <button id="create-btn" class="flex flex-col items-center justify-center bg-primary text-white w-12 h-12 rounded-full shadow-lg">
                        <i class="fas fa-plus text-xl"></i>
                    </button>
                    <button class="nav-btn flex flex-col items-center p-2 text-gray-500 dark:text-gray-400" data-section="marketplace">
                        <i class="fas fa-store text-xl mb-1"></i>
                        <span class="text-xs" id="nav-marketplace-text">Market</span>
                    </button>
                    <button class="nav-btn flex flex-col items-center p-2 text-gray-500 dark:text-gray-400" data-section="profile">
                        <i class="fas fa-user text-xl mb-1"></i>
                        <span class="text-xs" id="nav-profile-text">Profile</span>
                    </button>
                </div>
            </nav>
        </div>
        
        <!-- Modal Container -->
        <div id="modal-container" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
            <!-- Create Request Modal -->
            <div id="create-request-modal" class="bg-white dark:bg-gray-800 w-11/12 max-w-md rounded-xl p-5 shadow-lg slide-up hidden">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold text-gray-900 dark:text-gray-100" id="new-sharing-request-text">New Sharing Request</h3>
                    <button class="modal-close-btn text-gray-500 dark:text-gray-400">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <form class="space-y-4">
                    <div>
                        <label for="request-title" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="request-title-text">Request Title</label>
                        <input type="text" id="request-title" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base" placeholder="E.g., Looking for carpool partners">
                    </div>
                    
                    <div>
                        <label for="request-category" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="request-category-text">Category</label>
                        <select id="request-category" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base">
                            <option value="transport" id="transport-option-text">Transportation</option>
                            <option value="food" id="food-option-text">Food</option>
                            <option value="housing" id="housing-option-text">Housing</option>
                            <option value="childcare" id="childcare-option-text">Childcare</option>
                            <option value="events" id="events-option-text">Events</option>
                            <option value="utilities" id="utilities-option-text">Utilities</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="request-description" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="request-description-text">Description</label>
                        <textarea id="request-description" rows="4" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base" placeholder="Describe what you're looking to share and any important details"></textarea>
                    </div>
                    
                    <div>
                        <label for="request-location" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="request-location-text">Location</label>
                        <div class="relative">
                            <i class="fas fa-map-marker-alt absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                            <input type="text" id="request-location" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl pl-10 pr-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base" placeholder="Add a location">
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label for="request-date" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="request-date-text">Date (optional)</label>
                            <input type="date" id="request-date" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base">
                        </div>
                        <div>
                            <label for="request-time" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="request-time-text">Time (optional)</label>
                            <input type="time" id="request-time" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base">
                        </div>
                    </div>
                    
                    <div>
                        <label for="request-people" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="request-people-text">Number of People Needed</label>
                        <input type="number" id="request-people" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base" min="1" placeholder="E.g., 3">
                    </div>
                </form>
                
                <div class="mt-6">
                    <button id="post-request-btn" class="w-full bg-primary hover:bg-primary-dark text-white py-3 rounded-xl font-medium transition" id="post-request-text">Post Request</button>
                </div>
            </div>

            <!-- Create Group Modal -->
            <div id="create-group-modal" class="bg-white dark:bg-gray-800 w-11/12 max-w-md rounded-xl p-5 shadow-lg slide-up hidden">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold text-gray-900 dark:text-gray-100" id="create-new-group-text">Create New Group</h3>
                    <button class="modal-close-btn text-gray-500 dark:text-gray-400">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <form class="space-y-4">
                    <div class="flex justify-center mb-4">
                        <div class="relative">
                            <div class="w-20 h-20 rounded-lg bg-gray-200 dark:bg-gray-700 flex items-center justify-center overflow-hidden border-4 border-white dark:border-gray-800 shadow-md">
                                <i class="fas fa-users text-3xl text-gray-400 dark:text-gray-500"></i>
                            </div>
                            <button type="button" class="absolute bottom-0 right-0 bg-primary text-white w-7 h-7 rounded-full flex items-center justify-center shadow-md">
                                <i class="fas fa-camera"></i>
                            </button>
                        </div>
                    </div>
                
                    <div>
                        <label for="group-name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="group-name-text">Group Name</label>
                        <input type="text" id="group-name" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base" placeholder="E.g., Bole Apartment Utilities Group">
                    </div>
                    
                    <div>
                        <label for="group-category" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="group-category-text">Category</label>
                        <select id="group-category" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base">
                            <option value="transport" id="transport-group-text">Transportation</option>
                            <option value="food" id="food-group-text">Food</option>
                            <option value="housing" id="housing-group-text">Housing</option>
                            <option value="childcare" id="childcare-group-text">Childcare</option>
                            <option value="events" id="events-group-text">Events</option>
                            <option value="utilities" id="utilities-group-text">Utilities</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="group-description" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="group-description-text">Description</label>
                        <textarea id="group-description" rows="4" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base" placeholder="Describe the purpose of this group and how costs will be shared"></textarea>
                    </div>
                    
                    <div>
                        <label for="group-location" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="group-location-text">Location (optional)</label>
                        <div class="relative">
                            <i class="fas fa-map-marker-alt absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                            <input type="text" id="group-location" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl pl-10 pr-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base" placeholder="Add a location">
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2" id="group-privacy-text">Privacy Settings</label>
                        <div class="space-y-2">
                            <label class="flex items-center cursor-pointer">
                                <input type="radio" name="privacy" value="public" class="form-radio h-5 w-5 text-primary" checked>
                                <span class="ml-2 text-sm text-gray-700 dark:text-gray-300" id="public-text">Public - Anyone can find and join</span>
                            </label>
                            <label class="flex items-center cursor-pointer">
                                <input type="radio" name="privacy" value="restricted" class="form-radio h-5 w-5 text-primary">
                                <span class="ml-2 text-sm text-gray-700 dark:text-gray-300" id="restricted-text">Restricted - Anyone can find, request to join</span>
                            </label>
                            <label class="flex items-center cursor-pointer">
                                <input type="radio" name="privacy" value="private" class="form-radio h-5 w-5 text-primary">
                                <span class="ml-2 text-sm text-gray-700 dark:text-gray-300" id="private-text">Private - Only invited members can join</span>
                            </label>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2" id="invite-members-text">Invite Members</label>
                        <div class="relative">
                            <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                            <input type="text" id="member-search" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl pl-10 pr-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base" placeholder="Search contacts">
                        </div>
                    </div>
                </form>
                
                <div class="mt-6">
                    <button id="create-group-submit-btn" class="w-full bg-primary hover:bg-primary-dark text-white py-3 rounded-xl font-medium transition" id="create-group-text">Create Group</button>
                </div>
            </div>

            <!-- Add Expense Modal -->
            <div id="add-expense-modal" class="bg-white dark:bg-gray-800 w-11/12 max-w-md rounded-xl p-5 shadow-lg slide-up hidden">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold text-gray-900 dark:text-gray-100" id="add-new-expense-text">Add New Expense</h3>
                    <button class="modal-close-btn text-gray-500 dark:text-gray-400">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <form class="space-y-4">
                    <div>
                        <label for="expense-amount" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="amount-text">Amount</label>
                        <div class="relative">
                            <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500 dark:text-gray-400">ETB</span>
                            <input type="number" id="expense-amount" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 pl-12 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base" placeholder="0.00">
                        </div>
                    </div>
                    
                    <div>
                        <label for="expense-description" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="expense-description-text">Description</label>
                        <input type="text" id="expense-description" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base" placeholder="E.g., Dinner, Utilities, Transport">
                    </div>
                    
                    <div>
                        <label for="expense-group" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="expense-group-text">Group</label>
                        <select id="expense-group" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base">
                            <option value="" id="select-group-text">Select a group</option>
                            <option value="utilities">Addis Utility Sharing Group</option>
                            <option value="carpool">Daily Office Carpool Group</option>
                            <option value="mealprep">Weekly Meal Prep Group</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="expense-category" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="expense-category-text">Category</label>
                        <select id="expense-category" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base">
                            <option value="food" id="food-expense-text">Food & Drinks</option>
                            <option value="transport" id="transport-expense-text">Transportation</option>
                            <option value="utilities" id="utilities-expense-text">Utilities</option>
                            <option value="housing" id="housing-expense-text">Housing</option>
                            <option value="entertainment" id="entertainment-expense-text">Entertainment</option>
                            <option value="other" id="other-expense-text">Other</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="expense-date" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="expense-date-text">Date</label>
                        <input type="date" id="expense-date" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base">
                    </div>
                    
                    <div>
                        <label for="expense-paid-by" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="paid-by-text">Paid By</label>
                        <select id="expense-paid-by" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base">
                            <option value="you" id="you-text">You</option>
                            <option value="kibrom">Kibrom Gebregergs</option>
                            <option value="naysa">Naysa Kibrom</option>
                            <option value="ithiel">Ithiel Kibrom</option>
                            <option value="genet">Genet Tsigab</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2" id="split-method-text">Split Method</label>
                        <div class="space-y-2">
                            <label class="flex items-center cursor-pointer">
                                <input type="radio" name="split-method" value="equal" class="form-radio h-5 w-5 text-primary" checked>
                                <span class="ml-2 text-sm text-gray-700 dark:text-gray-300" id="equal-text">Equal - Split equally among all members</span>
                            </label>
                            <label class="flex items-center cursor-pointer">
                                <input type="radio" name="split-method" value="custom" class="form-radio h-5 w-5 text-primary">
                                <span class="ml-2 text-sm text-gray-700 dark:text-gray-300" id="custom-text">Custom - Set custom amounts</span>
                            </label>
                            <label class="flex items-center cursor-pointer">
                                <input type="radio" name="split-method" value="percentage" class="form-radio h-5 w-5 text-primary">
                                <span class="ml-2 text-sm text-gray-700 dark:text-gray-300" id="percentage-text">Percentage - Split by percentage</span>
                            </label>
                        </div>
                    </div>
                    
                    <div>
                        <label class="flex items-center cursor-pointer">
                            <input type="checkbox" class="form-checkbox h-5 w-5 text-primary rounded">
                            <span class="ml-2 text-sm text-gray-700 dark:text-gray-300" id="receipt-text">Add receipt image</span>
                        </label>
                    </div>
                </form>
                
                <div class="mt-6">
                    <button id="add-expense-submit-btn" class="w-full bg-primary hover:bg-primary-dark text-white py-3 rounded-xl font-medium transition" id="add-expense-btn-text">Add Expense</button>
                </div>
            </div>

            <!-- Create Event Modal -->
            <div id="create-event-modal" class="bg-white dark:bg-gray-800 w-11/12 max-w-md rounded-xl p-5 shadow-lg slide-up hidden">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold text-gray-900 dark:text-gray-100" id="create-new-event-text">Create New Event</h3>
                    <button class="modal-close-btn text-gray-500 dark:text-gray-400">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <form class="space-y-4">
                    <div>
                        <label for="event-title" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="event-title-text">Event Title</label>
                        <input type="text" id="event-title" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base" placeholder="E.g., Community Market Day">
                    </div>
                    
                    <div>
                        <label for="event-description" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="event-description-text">Description</label>
                        <textarea id="event-description" rows="4" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base" placeholder="Describe your event and how costs will be shared"></textarea>
                    </div>
                    
                    <div>
                        <label for="event-location" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="event-location-text">Location</label>
                        <div class="relative">
                            <i class="fas fa-map-marker-alt absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                            <input type="text" id="event-location" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl pl-10 pr-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base" placeholder="Add a location">
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label for="event-date" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="event-date-text">Date</label>
                            <input type="date" id="event-date" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base">
                        </div>
                        <div>
                            <label for="event-time" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="event-time-text">Time</label>
                            <input type="time" id="event-time" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base">
                        </div>
                    </div>
                    
                    <div>
                        <label for="event-cost" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="event-cost-text">Estimated Cost Per Person (Optional)</label>
                        <div class="relative">
                            <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500 dark:text-gray-400">ETB</span>
                            <input type="number" id="event-cost" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 pl-12 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base" placeholder="0.00">
                        </div>
                    </div>
                    
                    <div>
                        <label for="event-max-participants" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="max-participants-text">Maximum Participants (Optional)</label>
                        <input type="number" id="event-max-participants" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base" min="2" placeholder="E.g., 20">
                    </div>
                    
                    <div>
                        <label for="event-group" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="event-group-text">Group (Optional)</label>
                        <select id="event-group" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base">
                            <option value="" id="select-group-or-public-text">Select a group or make it public</option>
                            <option value="utilities">Addis Utility Sharing Group</option>
                            <option value="carpool">Daily Office Carpool Group</option>
                            <option value="mealprep">Weekly Meal Prep Group</option>
                            <option value="public" id="public-event-text">Public Event</option>
                        </select>
                    </div>
                </form>
                
                <div class="mt-6">
                    <button id="create-event-submit-btn" class="w-full bg-primary hover:bg-primary-dark text-white py-3 rounded-xl font-medium transition" id="create-event-btn-text">Create Event</button>
                </div>
            </div>

            <!-- Payment Modal -->
            <div id="payment-modal" class="bg-white dark:bg-gray-800 w-11/12 max-w-md rounded-xl p-5 shadow-lg slide-up hidden">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold text-gray-900 dark:text-gray-100" id="make-payment-text">Make Payment</h3>
                    <button class="modal-close-btn text-gray-500 dark:text-gray-400">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <div class="mb-6">
                    <div class="bg-gray-100 dark:bg-gray-700 rounded-xl p-4 mb-4">
                        <div class="flex justify-between items-center">
                            <div>
                                <h4 class="text-sm text-gray-500 dark:text-gray-400" id="paying-text">Paying</h4>
                                <p class="text-xl font-bold text-gray-900 dark:text-gray-100">450 ETB</p>
                            </div>
                            <div>
                                <h4 class="text-sm text-gray-500 dark:text-gray-400" id="to-text">To</h4>
                                <p class="text-base font-medium text-gray-900 dark:text-gray-100">Kibrom Gebregergs</p>
                            </div>
                        </div>
                        <div class="mt-3 text-sm text-gray-600 dark:text-gray-400">
                            <span id="for-text">For:</span> Utility Bill (Addis Utility Sharing Group)
                        </div>
                    </div>
                    
                    <h4 class="font-medium text-gray-900 dark:text-gray-100 mb-3" id="payment-method-text">Payment Method</h4>
                    
                    <div class="space-y-3 mb-4">
                        <div class="payment-method selected flex items-center justify-between p-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl">
                            <div class="flex items-center">
                                <div class="w-10 h-10 rounded-full bg-telebirr bg-opacity-10 flex items-center justify-center mr-3">
                                    <i class="fas fa-mobile-alt text-telebirr"></i>
                                </div>
                                <div>
                                    <h5 class="font-medium text-gray-900 dark:text-gray-100">Telebirr</h5>
                                    <p class="text-xs text-gray-500 dark:text-gray-400">+251 9XX XXX XXX</p>
                                </div>
                            </div>
                            <div class="flex items-center">
                                <input type="radio" name="payment-method" value="telebirr" class="form-radio h-5 w-5 text-primary" checked>
                            </div>
                        </div>
                        
                        <div class="payment-method flex items-center justify-between p-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl">
                            <div class="flex items-center">
                                <div class="w-10 h-10 rounded-full bg-cbe bg-opacity-10 flex items-center justify-center mr-3">
                                    <i class="fas fa-university text-cbe"></i>
                                </div>
                                <div>
                                    <h5 class="font-medium text-gray-900 dark:text-gray-100">CBE Birr</h5>
                                    <p class="text-xs text-gray-500 dark:text-gray-400">Connected</p>
                                </div>
                            </div>
                            <div class="flex items-center">
                                <input type="radio" name="payment-method" value="cbe" class="form-radio h-5 w-5 text-primary">
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex items-center justify-center mb-4">
                        <button class="text-primary font-medium text-sm flex items-center">
                            <i class="fas fa-plus mr-1 text-xs"></i>
                            <span id="add-payment-method-text2">Add Payment Method</span>
                        </button>
                    </div>
                    
                    <div class="mt-6">
                        <button id="confirm-payment-btn" class="w-full bg-primary hover:bg-primary-dark text-white py-3 rounded-xl font-medium transition" id="confirm-payment-text">Confirm Payment</button>
                    </div>
                </div>
            </div>

            <!-- Group Chat Modal -->
            <div id="group-chat-modal" class="bg-white dark:bg-gray-800 w-11/12 max-w-md rounded-xl shadow-lg slide-up hidden flex flex-col" style="height: 90vh;">
                <div class="flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700">
                    <div class="flex items-center">
                        <button class="modal-close-btn text-gray-500 dark:text-gray-400 mr-3">
                            <i class="fas fa-arrow-left text-xl"></i>
                        </button>
                        <div class="flex items-center">
                            <div class="w-10 h-10 rounded-lg bg-primary bg-opacity-10 dark:bg-opacity-20 flex items-center justify-center mr-3">
                                <i class="fas fa-users text-primary"></i>
                            </div>
                            <div>
                                <h3 class="font-medium text-gray-900 dark:text-gray-100">Addis Utility Sharing Group</h3>
                                <p class="text-xs text-gray-500 dark:text-gray-400">7 members</p>
                            </div>
                        </div>
                    </div>
                    <button class="text-gray-500 dark:text-gray-400">
                        <i class="fas fa-ellipsis-v"></i>
                    </button>
                </div>
                
                <div class="flex-1 p-4 overflow-y-auto">
                    <div class="message-timeline relative pb-4">
                        <div class="flex items-center justify-center mb-4">
                            <div class="px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 text-xs rounded-full">
                                Today
                            </div>
                        </div>
                        
                        <!-- System Message -->
                        <div class="flex justify-center mb-4">
                            <div class="bg-gray-100 dark:bg-gray-700 rounded-lg px-3 py-2 max-w-xs">
                                <p class="text-xs text-gray-600 dark:text-gray-400 text-center">Kibrom added the expense "Utility Bill" - 450 ETB</p>
                            </div>
                        </div>
                        
                        <!-- Received Message -->
                        <div class="flex mb-4">
                            <div class="w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-primary overflow-hidden mr-2 flex-shrink-0">
                                <i class="fas fa-user text-sm"></i>
                            </div>
                            <div>
                                <div class="flex items-end">
                                    <div class="bg-gray-200 dark:bg-gray-700 rounded-lg px-3 py-2 max-w-xs">
                                        <p class="text-sm text-gray-900 dark:text-gray-100">I've added this month's utility bill to our expenses. Everyone please check and pay your share.</p>
                                    </div>
                                </div>
                                <div class="flex items-center mt-1">
                                    <p class="text-xs text-gray-500 dark:text-gray-400">Kibrom • 10:24 AM</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Sent Message -->
                        <div class="flex mb-4 justify-end">
                            <div>
                                <div class="flex items-end justify-end">
                                    <div class="bg-primary text-white rounded-lg px-3 py-2 max-w-xs">
                                        <p class="text-sm">I'll pay my share today. Thanks for organizing this!</p>
                                    </div>
                                </div>
                                <div class="flex items-center justify-end mt-1">
                                    <p class="text-xs text-gray-500 dark:text-gray-400">You • 10:45 AM</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Received Message -->
                        <div class="flex mb-4">
                            <div class="w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-primary overflow-hidden mr-2 flex-shrink-0">
                                <i class="fas fa-user text-sm"></i>
                            </div>
                            <div>
                                <div class="flex items-end">
                                    <div class="bg-gray-200 dark:bg-gray-700 rounded-lg px-3 py-2 max-w-xs">
                                        <p class="text-sm text-gray-900 dark:text-gray-100">I'll pay mine tomorrow. The internet was faster this month, great value!</p>
                                    </div>
                                </div>
                                <div class="flex items-center mt-1">
                                    <p class="text-xs text-gray-500 dark:text-gray-400">Naysa • 11:05 AM</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- System Message -->
                        <div class="flex justify-center mb-4">
                            <div class="bg-gray-100 dark:bg-gray-700 rounded-lg px-3 py-2 max-w-xs">
                                <p class="text-xs text-gray-600 dark:text-gray-400 text-center">You paid 450 ETB to Kibrom</p>
                            </div>
                        </div>
                        
                        <!-- Received Message -->
                        <div class="flex mb-4">
                            <div class="w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-primary overflow-hidden mr-2 flex-shrink-0">
                                <i class="fas fa-user text-sm"></i>
                            </div>
                            <div>
                                <div class="flex items-end">
                                    <div class="bg-gray-200 dark:bg-gray-700 rounded-lg px-3 py-2 max-w-xs">
                                        <p class="text-sm text-gray-900 dark:text-gray-100">Thanks for the quick payment, Genet!</p>
                                    </div>
                                </div>
                                <div class="flex items-center mt-1">
                                    <p class="text-xs text-gray-500 dark:text-gray-400">Kibrom • 12:30 PM</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Received Message -->
                        <div class="flex mb-4">
                            <div class="w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-primary overflow-hidden mr-2 flex-shrink-0">
                                <i class="fas fa-user text-sm"></i>
                            </div>
                            <div>
                                <div class="flex items-end">
                                    <div class="bg-gray-200 dark:bg-gray-700 rounded-lg px-3 py-2 max-w-xs">
                                        <p class="text-sm text-gray-900 dark:text-gray-100">Should we consider adding solar power to reduce our electricity costs? I found a good deal.</p>
                                    </div>
                                </div>
                                <div class="flex items-center mt-1">
                                    <p class="text-xs text-gray-500 dark:text-gray-400">Ithiel • 2:15 PM</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="p-4 border-t border-gray-200 dark:border-gray-700">
                    <div class="flex items-center">
                        <button class="text-gray-500 dark:text-gray-400 mr-2">
                            <i class="fas fa-paperclip text-xl"></i>
                        </button>
                        <div class="flex-1 relative">
                            <input type="text" placeholder="Type a message..." class="w-full bg-gray-100 dark:bg-gray-700 border-0 rounded-full px-4 py-2 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base">
                        </div>
                        <button class="bg-primary text-white rounded-full w-10 h-10 flex items-center justify-center ml-2">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Community Guidelines Modal -->
            <div id="guidelines-modal" class="bg-white dark:bg-gray-800 w-11/12 max-w-md rounded-xl p-5 shadow-lg slide-up hidden overflow-y-auto max-h-[90vh]">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold text-gray-900 dark:text-gray-100" id="community-guidelines-title">Community Guidelines</h3>
                    <button class="modal-close-btn text-gray-500 dark:text-gray-400">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <div class="space-y-4">
                    <p class="text-gray-600 dark:text-gray-400">
                        CostShare is built on trust, respect, and cooperation. Following these guidelines helps ensure a positive experience for everyone.
                    </p>
                    
                    <div>
                        <h4 class="font-medium text-gray-900 dark:text-gray-100 mb-2" id="respect-title">Respect & Trust</h4>
                        <ul class="list-disc pl-5 text-sm text-gray-600 dark:text-gray-400 space-y-1">
                            <li>Treat all members with respect and dignity</li>
                            <li>Honor your commitments and financial obligations</li>
                            <li>Communicate clearly and honestly</li>
                            <li>Respect the privacy and personal information of others</li>
                        </ul>
                    </div>
                    
                    <div>
                        <h4 class="font-medium text-gray-900 dark:text-gray-100 mb-2" id="financial-title">Financial Responsibilities</h4>
                        <ul class="list-disc pl-5 text-sm text-gray-600 dark:text-gray-400 space-y-1">
                            <li>Pay your share promptly when requested</li>
                            <li>Be transparent about costs and expenses</li>
                            <li>Keep receipts and accurate records</li>
                            <li>Discuss any financial concerns openly with your group</li>
                        </ul>
                    </div>
                    
                    <div>
                        <h4 class="font-medium text-gray-900 dark:text-gray-100 mb-2" id="communication-title">Communication</h4>
                        <ul class="list-disc pl-5 text-sm text-gray-600 dark:text-gray-400 space-y-1">
                            <li>Respond to messages and requests within a reasonable timeframe</li>
                            <li>Notify group members in advance if you cannot fulfill a commitment</li>
                            <li>Use appropriate language and tone in all communications</li>
                            <li>Resolve conflicts through direct, respectful conversation</li>
                        </ul>
                    </div>
                    
                    <div>
                        <h4 class="font-medium text-gray-900 dark:text-gray-100 mb-2" id="safety-title">Safety & Security</h4>
                        <ul class="list-disc pl-5 text-sm text-gray-600 dark:text-gray-400 space-y-1">
                            <li>Verify your identity with valid ID for increased trust</li>
                            <li>Meet in public places when meeting new sharing partners</li>
                            <li>Report suspicious or inappropriate behavior</li>
                            <li>Do not share personal financial information outside secure payment methods</li>
                        </ul>
                    </div>
                    
                    <div>
                        <h4 class="font-medium text-gray-900 dark:text-gray-100 mb-2" id="reporting-title">Reporting Issues</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400">
                            If you encounter any issues or violations of these guidelines, please report them through:
                        </p>
                        <ul class="list-disc pl-5 text-sm text-gray-600 dark:text-gray-400 space-y-1 mt-2">
                            <li>The "Report" option in any group or request</li>
                            <li>Contacting customer support through your profile</li>
                            <li>Emailing <span class="text-primary">support@costshare.et</span></li>
                        </ul>
                    </div>
                    
                    <div class="pt-4 border-t border-gray-200 dark:border-gray-700">
                        <p class="text-xs text-gray-500 dark:text-gray-400">
                            By using CostShare, you agree to abide by these Community Guidelines. Violations may result in account restrictions or termination.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Payment Confirmation Modal -->
            <div id="payment-confirmation-modal" class="bg-white dark:bg-gray-800 w-11/12 max-w-md rounded-xl p-5 shadow-lg slide-up hidden">
                <div class="flex flex-col items-center py-6">
                    <div class="w-20 h-20 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center mb-6">
                        <i class="fas fa-check-circle text-accent text-4xl"></i>
                    </div>
                    
                    <h3 class="text-xl font-bold text-gray-900 dark:text-gray-100 mb-2" id="payment-success-text">Payment Successful!</h3>
                    <p class="text-gray-600 dark:text-gray-400 text-center mb-6" id="payment-confirmation-text">Your payment of 450 ETB to Kibrom Gebregergs has been completed.</p>
                    
                    <div class="bg-gray-100 dark:bg-gray-700 rounded-xl p-4 w-full mb-6">
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-sm text-gray-500 dark:text-gray-400" id="amount-text2">Amount</span>
                            <span class="font-medium text-gray-900 dark:text-gray-100">450 ETB</span>
                        </div>
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-sm text-gray-500 dark:text-gray-400" id="payment-method-text2">Payment Method</span>
                            <span class="font-medium text-gray-900 dark:text-gray-100">Telebirr</span>
                        </div>
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-sm text-gray-500 dark:text-gray-400" id="transaction-id-text">Transaction ID</span>
                            <span class="font-medium text-gray-900 dark:text-gray-100">TBR123456789</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-gray-500 dark:text-gray-400" id="date-text">Date</span>
                            <span class="font-medium text-gray-900 dark:text-gray-100">Apr 15, 2023</span>
                        </div>
                    </div>
                    
                    <button class="modal-close-btn w-full bg-primary hover:bg-primary-dark text-white py-3 rounded-xl font-medium transition" id="done-text">Done</button>
                </div>
            </div>

            <!-- Language Selection Modal -->
            <div id="language-modal" class="bg-white dark:bg-gray-800 rounded-lg p-6 w-11/12 max-w-sm slide-up hidden">
                <div class="flex justify-center mb-6">
                    <!-- Logo -->
                    <div class="w-20 h-20 relative">
                        <svg viewBox="0 0 100 100" class="w-full h-full">
                            <!-- Logo SVG content -->
                            <circle cx="50" cy="50" r="45" fill="none" stroke="#5D5CDE" stroke-width="2" class="animate-pulse-slow" />
                            <circle cx="50" cy="20" r="8" fill="#078930" />
                            <circle cx="80" cy="50" r="8" fill="#FCDD09" />
                            <circle cx="50" cy="80" r="8" fill="#DA121A" />
                            <circle cx="20" cy="50" r="8" fill="#5D5CDE" />
                            <line x1="50" y1="20" x2="80" y2="50" stroke="#5D5CDE" stroke-width="2" />
                            <line x1="80" y1="50" x2="50" y2="80" stroke="#5D5CDE" stroke-width="2" />
                            <line x1="50" y1="80" x2="20" y2="50" stroke="#5D5CDE" stroke-width="2" />
                            <line x1="20" y1="50" x2="50" y2="20" stroke="#5D5CDE" stroke-width="2" />
                            <circle cx="50" cy="50" r="15" fill="#5D5CDE" />
                            <text x="50" y="54" font-size="14" text-anchor="middle" fill="white" font-weight="bold">$</text>
                        </svg>
                    </div>
                </div>
                <h2 class="text-2xl font-bold text-center text-gray-900 dark:text-gray-100 mb-6">CostShare</h2>
                <p class="text-center mb-4 text-gray-700 dark:text-gray-300">Choose your language / ቋንቋኻ ምረጽ / ቋንቋህን ምረጥ / Afaan kee filadhu</p>
                <div class="grid grid-cols-2 gap-4">
                    <button class="lang-btn bg-primary hover:bg-primary-dark text-white py-3 px-4 rounded-lg transition-colors duration-300" data-lang="en">
                        English
                    </button>
                    <button class="lang-btn bg-primary hover:bg-primary-dark text-white py-3 px-4 rounded-lg transition-colors duration-300 lang-tigrinya" data-lang="ti">
                        ትግርኛ
                    </button>
                    <button class="lang-btn bg-primary hover:bg-primary-dark text-white py-3 px-4 rounded-lg transition-colors duration-300 lang-amharic" data-lang="am">
                        አማርኛ
                    </button>
                    <button class="lang-btn bg-primary hover:bg-primary-dark text-white py-3 px-4 rounded-lg transition-colors duration-300 lang-oromo" data-lang="om">
                        Afaan Oromoo
                    </button>
                </div>
                <div class="mt-6 text-center text-xs text-gray-500 dark:text-gray-400">
                    Developed by Kibrom Gebregergs & Team
                </div>
            </div>

            <!-- Notifications Modal -->
            <div id="notifications-modal" class="bg-white dark:bg-gray-800 rounded-lg p-5 w-11/12 max-w-md slide-up hidden max-h-[80vh] overflow-y-auto">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold text-gray-900 dark:text-gray-100" id="notifications-title">Notifications</h3>
                    <button class="modal-close-btn text-gray-500 dark:text-gray-400">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <div class="space-y-4">
                    <!-- Unread notifications -->
                    <div class="bg-primary bg-opacity-5 dark:bg-opacity-10 p-4 rounded-xl border-l-4 border-primary">
                        <div class="flex items-start">
                            <div class="w-10 h-10 rounded-full bg-primary bg-opacity-10 flex items-center justify-center text-primary mr-3 flex-shrink-0">
                                <i class="fas fa-receipt"></i>
                            </div>
                            <div class="flex-1">
                                <h4 class="font-medium text-gray-900 dark:text-gray-100">New expense added</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-400">Kibrom added an expense "Utility Bill" - 450 ETB to Addis Utility Sharing Group</p>
                                <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Today, 10:24 AM</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-primary bg-opacity-5 dark:bg-opacity-10 p-4 rounded-xl border-l-4 border-primary">
                        <div class="flex items-start">
                            <div class="w-10 h-10 rounded-full bg-ethiopian-yellow bg-opacity-10 flex items-center justify-center text-ethiopian-yellow mr-3 flex-shrink-0">
                                <i class="fas fa-calendar-alt"></i>
                            </div>
                            <div class="flex-1">
                                <h4 class="font-medium text-gray-900 dark:text-gray-100">Upcoming event reminder</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-400">Community Market Day is tomorrow at 10:00 AM</p>
                                <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Today, 9:30 AM</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-primary bg-opacity-5 dark:bg-opacity-10 p-4 rounded-xl border-l-4 border-primary">
                        <div class="flex items-start">
                            <div class="w-10 h-10 rounded-full bg-ethiopian-green bg-opacity-10 flex items-center justify-center text-ethiopian-green mr-3 flex-shrink-0">
                                <i class="fas fa-user-plus"></i>
                            </div>
                            <div class="flex-1">
                                <h4 class="font-medium text-gray-900 dark:text-gray-100">New group request</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-400">Ithiel Kibrom has invited you to join "Weekend Hiking Group"</p>
                                <div class="flex mt-2 space-x-2">
                                    <button class="bg-primary text-white text-xs px-3 py-1 rounded-lg">Accept</button>
                                    <button class="bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs px-3 py-1 rounded-lg">Decline</button>
                                </div>
                                <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Yesterday, 4:15 PM</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Read notifications -->
                    <div class="p-4 rounded-xl">
                        <div class="flex items-start">
                            <div class="w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-gray-500 dark:text-gray-400 mr-3 flex-shrink-0">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <div class="flex-1">
                                <h4 class="font-medium text-gray-900 dark:text-gray-100">Payment received</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-400">Naysa Kibrom paid you 180 ETB for "Grocery Shopping"</p>
                                <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Apr 10, 2023</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="p-4 rounded-xl">
                        <div class="flex items-start">
                            <div class="w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-gray-500 dark:text-gray-400 mr-3 flex-shrink-0">
                                <i class="fas fa-star"></i>
                            </div>
                            <div class="flex-1">
                                <h4 class="font-medium text-gray-900 dark:text-gray-100">You're now verified!</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-400">Your National ID verification is complete. You now have a verified badge.</p>
                                <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Apr 5, 2023</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Check for dark mode preference
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });
        
        // Offline detection
        function updateOnlineStatus() {
            const offlineBanner = document.getElementById('offline-banner');
            if (navigator.onLine) {
                offlineBanner.classList.add('hidden');
            } else {
                offlineBanner.classList.remove('hidden');
            }
        }
        
        window.addEventListener('online', updateOnlineStatus);
        window.addEventListener('offline', updateOnlineStatus);
        updateOnlineStatus();
        
        // Language data
        const translations = {
            en: {
                // New added translations
                "all-categories-text": "All Categories",
                "transport-text": "Transport",
                "food-text": "Food",
                "housing-text": "Housing",
                "events-text": "Events",
                "utilities-text": "Utilities",
                "new-request-text": "New Request",
                "new-group-text": "Create Group",
                "track-expenses-text": "Track Expenses",
                "new-event-text": "New Event",
                "active-requests-heading": "Active Sharing Requests",
                "my-groups-heading": "My Active Groups",
                "verified-drivers-text": "Verified Drivers",
                "marketplace-heading": "Marketplace",
                "see-all-text": "See all",
                "events-heading": "Upcoming Events",
                "view-all-text": "View all",
                "community-guidelines-heading": "Community Guidelines",
                "guidelines-text": "Our community thrives on trust, respect, and cooperation. Make sure to follow our guidelines for a positive sharing experience.",
                "read-guidelines-text": "Read Guidelines",
                "resources-heading": "Educational Resources",
                "read-article-text": "Read Article",
                "sharing-preferences-text": "Your Sharing Preferences",
                "preferences-description-text": "Select categories you're interested in sharing costs for:",
                "transport-category-text": "Transportation",
                "food-category-text": "Food",
                "housing-category-text": "Housing",
                "childcare-category-text": "Childcare",
                "events-category-text": "Events",
                "utilities-category-text": "Utilities",
                "new-sharing-request-text": "New Sharing Request",
                "request-title-text": "Request Title",
                "request-category-text": "Category",
                "transport-option-text": "Transportation",
                "food-option-text": "Food",
                "housing-option-text": "Housing",
                "childcare-option-text": "Childcare",
                "events-option-text": "Events",
                "utilities-option-text": "Utilities",
                "request-description-text": "Description",
                "request-location-text": "Location",
                "request-date-text": "Date (optional)",
                "request-time-text": "Time (optional)",
                "request-people-text": "Number of People Needed",
                "post-request-text": "Post Request",
                "create-new-group-text": "Create New Group",
                "group-name-text": "Group Name",
                "group-category-text": "Category",
                "transport-group-text": "Transportation",
                "food-group-text": "Food",
                "housing-group-text": "Housing",
                "childcare-group-text": "Childcare",
                "events-group-text": "Events",
                "utilities-group-text": "Utilities",
                "group-description-text": "Description",
                "group-location-text": "Location (optional)",
                "group-privacy-text": "Privacy Settings",
                "public-text": "Public - Anyone can find and join",
                "restricted-text": "Restricted - Anyone can find, request to join",
                "private-text": "Private - Only invited members can join",
                "invite-members-text": "Invite Members",
                "create-group-text": "Create Group",
                "add-new-expense-text": "Add New Expense",
                "amount-text": "Amount",
                "expense-description-text": "Description",
                "expense-group-text": "Group",
                "select-group-text": "Select a group",
                "expense-category-text": "Category",
                "food-expense-text": "Food & Drinks",
                "transport-expense-text": "Transportation",
                "utilities-expense-text": "Utilities",
                "housing-expense-text": "Housing",
                "entertainment-expense-text": "Entertainment",
                "other-expense-text": "Other",
                "expense-date-text": "Date",
                "paid-by-text": "Paid By",
                "you-text": "You",
                "split-method-text": "Split Method",
                "equal-text": "Equal - Split equally among all members",
                "custom-text": "Custom - Set custom amounts",
                "percentage-text": "Percentage - Split by percentage",
                "receipt-text": "Add receipt image",
                "add-expense-btn-text": "Add Expense",
                "create-new-event-text": "Create New Event",
                "event-title-text": "Event Title",
                "event-description-text": "Description",
                "event-location-text": "Location",
                "event-date-text": "Date",
                "event-time-text": "Time",
                "event-cost-text": "Estimated Cost Per Person (Optional)",
                "max-participants-text": "Maximum Participants (Optional)",
                "event-group-text": "Group (Optional)",
                "select-group-or-public-text": "Select a group or make it public",
                "public-event-text": "Public Event",
                "create-event-btn-text": "Create Event",
                "make-payment-text": "Make Payment",
                "paying-text": "Paying",
                "to-text": "To",
                "for-text": "For:",
                "payment-method-text": "Payment Method",
                "add-payment-method-text": "Add Payment Method",
                "add-payment-method-text2": "Add Payment Method",
                "confirm-payment-text": "Confirm Payment",
                "payment-success-text": "Payment Successful!",
                "payment-confirmation-text": "Your payment of 450 ETB to Kibrom Gebregergs has been completed.",
                "amount-text2": "Amount",
                "payment-method-text2": "Payment Method",
                "transaction-id-text": "Transaction ID",
                "date-text": "Date",
                "done-text": "Done",
                "community-guidelines-title": "Community Guidelines",
                "respect-title": "Respect & Trust",
                "financial-title": "Financial Responsibilities",
                "communication-title": "Communication",
                "safety-title": "Safety & Security",
                "reporting-title": "Reporting Issues",
                "notifications-title": "Notifications",
                "my-groups-title": "My Groups",
                "create-group-btn2": "Create Group",
                "suggested-groups-heading": "Suggested Groups",
                "expense-tracker-heading": "Expense Tracker",
                "add-expense-text": "Add Expense",
                "you-owe-text": "You Owe",
                "across-groups-text": "Across 2 groups",
                "you-are-owed-text": "You are Owed",
                "from-people-text": "From 3 people",
                "recent-expenses-heading": "Recent Expenses",
                "payment-methods-heading": "Payment Methods",
                "offline-text": "You're in offline mode. Some features may be limited.",
                "nav-home-text": "Home",
                "nav-groups-text": "Groups",
                "nav-expenses-text": "Expenses",
                "nav-marketplace-text": "Market",
                
                // Existing translations
                "welcome-text": "Welcome, Genet",
                "verified-text": "Verified",
                "subwelcome-text": "What would you like to share today?",
                "nav-profile-text": "Profile"
            },
            am: {
                // New added translations for Amharic would go here
                "all-categories-text": "ሁሉም ምድቦች",
                "transport-text": "ትራንስፖርት",
                "food-text": "ምግብ",
                "housing-text": "መኖሪያ",
                "events-text": "ዝግጅቶች",
                "utilities-text": "አገልግሎቶች",
                "new-request-text": "አዲስ ጥያቄ",
                "new-group-text": "ቡድን ፍጠር",
                "track-expenses-text": "ወጪዎችን ክተታል",
                "new-event-text": "አዲስ ዝግጅት",
                "active-requests-heading": "ንቁ የመጋራት ጥያቄዎች",
                "my-groups-heading": "የእኔ ንቁ ቡድኖች",
                "verified-drivers-text": "የተረጋገጡ አሽከርካሪዎች",
                "marketplace-heading": "ገበያ",
                "see-all-text": "ሁሉንም ይመልከቱ",
                "events-heading": "ቀጣይ ዝግጅቶች",
                "view-all-text": "ሁሉንም ይመልከቱ",
                "community-guidelines-heading": "የማህበረሰብ መመሪያዎች",
                "guidelines-text": "የእኛ ማህበረሰብ በመተማመን፣ በአክብሮት እና በትብብር ላይ የተመሰረተ ነው። አወንታዊ የመጋራት ልምድ እንዲኖርዎት እነዚህን መመሪያዎች ይከተሉ።",
                "read-guidelines-text": "መመሪያዎችን ያንብቡ",
                "resources-heading": "የትምህርት ግብዓቶች",
                "read-article-text": "መጣጥፍ ያንብቡ",
                "offline-text": "በውጭ-መስመር ሁኔታ ላይ ነዎት። አንዳንድ ባህሪያት ገደብ ሊኖራቸው ይችላሉ።",
                "nav-home-text": "መነሻ",
                "nav-groups-text": "ቡድኖች",
                "nav-expenses-text": "ወጪዎች",
                "nav-marketplace-text": "ገበያ",
                
                // Existing translations
                "welcome-text": "እንኳን ደህና መጣሽ፣ ገነት",
                "verified-text": "የተረጋገጠ",
                "subwelcome-text": "ዛሬ ምን ማካፈል ትፈልጋለህ?",
                "nav-profile-text": "መገለጫ"
            },
            ti: {
                // New added translations for Tigrinya would go here
                "all-categories-text": "ኩሎም ምድባት",
                "transport-text": "መጓዓዝያ",
                "food-text": "መግቢ",
                "housing-text": "መንበሪ",
                "events-text": "ፍጻመታት",
                "utilities-text": "ኣገልግሎታት",
                "new-request-text": "ሓዲሽ ሕቶ",
                "new-group-text": "ጉጅለ ፍጠር",
                "track-expenses-text": "ወጻኢታት ተኸታተል",
                "new-event-text": "ሓዲሽ ፍጻመ",
                "active-requests-heading": "ንጡፋት ናይ ምክፋል ሕቶታት",
                "my-groups-heading": "ንጡፋት ጉጅለታተይ",
                "verified-drivers-text": "ዝተረጋገጹ ነገድቲ",
                "marketplace-heading": "ዕዳጋ",
                "see-all-text": "ኩሉ ርአ",
                "events-heading": "መጻኢ ፍጻመታት",
                "view-all-text": "ኩሉ ርአ",
                "community-guidelines-heading": "መምርሒታት ማሕበረሰብ",
                "guidelines-text": "ማሕበረሰብና ኣብ ምትእምማን፡ ኣኽብሮትን ምትሕብባርን ዝመስረተ እዩ። ኣወንታዊ ናይ ምክፋል ተመኩሮ ንምርግጋጽ ነዞም መምርሒታት ተኸተል።",
                "read-guidelines-text": "መምርሒታት ኣንብብ",
                "resources-heading": "ናይ ትምህርቲ ጸጋታት",
                "read-article-text": "ጽሑፍ ኣንብብ",
                "offline-text": "ኣብ ከባብያዊ-ሞድ ኢኻ ዘለኻ። ገለ ባህርያት ውሱናት ክኾኑ ይኽእሉ።",
                "nav-home-text": "መደበር",
                "nav-groups-text": "ጉጅለታት",
                "nav-expenses-text": "ወጻኢታት",
                "nav-marketplace-text": "ዕዳጋ",
                
                // Existing translations
                "welcome-text": "እንቋዕ ብደሓን መጻእኪ፣ ገነት",
                "verified-text": "ዝተረጋገጸ",
                "subwelcome-text": "ሎሚ እንታይ ክትካፈል ትደሊ?",
                "nav-profile-text": "ፕሮፋይል"
            },
            om: {
                // New added translations for Oromo would go here
                "all-categories-text": "Gosa Hunda",
                "transport-text": "Geejjiba",
                "food-text": "Nyaata",
                "housing-text": "Mana Jireenyaa",
                "events-text": "Gochoota",
                "utilities-text": "Tajaajila",
                "new-request-text": "Gaaffii Haaraa",
                "new-group-text": "Garee Uumi",
                "track-expenses-text": "Baasii Hordofuu",
                "new-event-text": "Gocha Haaraa",
                "active-requests-heading": "Gaaffii Qoodiinsa Hojii Irra Jiru",
                "my-groups-heading": "Garee Koo Hojii Irra Jiru",
                "verified-drivers-text": "Konkolaachiftoonni Mirkana'an",
                "marketplace-heading": "Gabaa",
                "see-all-text": "Hunda Ilaali",
                "events-heading": "Gochoota Dhufan",
                "view-all-text": "Hunda Ilaali",
                "community-guidelines-heading": "Qajeelfama Hawaasaa",
                "guidelines-text": "Hawaasni keenya amaanaa, kabajaa, fi hojii waliinii irratti kan hundaa'e dha. Muuxannoo qoodiinsa gaarii akka qabduuf qajeelfamoota kana hordofaa.",
                "read-guidelines-text": "Qajeelfama Dubbisi",
                "resources-heading": "Qabeenya Barnoota",
                "read-article-text": "Barreeffama Dubbisi",
                "offline-text": "Haala salphaatti argamuu hin dandeenye keessa jirta. Amaloota tokko tokko daangeffamuu ni danda'u.",
                "nav-home-text": "Mana",
                "nav-groups-text": "Garee",
                "nav-expenses-text": "Baasii",
                "nav-marketplace-text": "Gabaa",
                
                // Existing translations
                "welcome-text": "Baga nagaan dhufte, Genet",
                "verified-text": "Kan Mirkana'e",
                "subwelcome-text": "Har'a maal qooddachuu barbaadda?",
                "nav-profile-text": "Profaayilii"
            }
        };
        
        // Function to apply translations
        function applyTranslations(lang) {
            const textElements = translations[lang];
            for (const id in textElements) {
                const element = document.getElementById(id);
                if (element) {
                    if (id === 'search-placeholder') {
                        element.placeholder = textElements[id];
                    } else if (id === 'request-ride-btn') {
                        element.textContent = textElements[id];
                    } else {
                        element.textContent = textElements[id];
                    }
                }
            }
            
            // Store selected language
            localStorage.setItem('costShareLang', lang);
            
            // Update language selector buttons
            document.querySelectorAll('.lang-selector-btn').forEach(btn => {
                const btnLang = btn.getAttribute('data-lang');
                if (btnLang === lang) {
                    btn.classList.remove('bg-gray-200', 'dark:bg-gray-800', 'text-gray-700', 'dark:text-gray-300');
                    btn.classList.add('bg-primary', 'text-white');
                } else {
                    btn.classList.add('bg-gray-200', 'dark:bg-gray-800', 'text-gray-700', 'dark:text-gray-300');
                    btn.classList.remove('bg-primary', 'text-white');
                }
            });
            
            // Add language specific class to body
            document.body.classList.remove('lang-amharic', 'lang-tigrinya', 'lang-oromo');
            if (lang !== 'en') {
                document.body.classList.add(`lang-${lang}`);
            }
        }
        
        // Get previously selected language
        let savedLang = localStorage.getItem('costShareLang') || 'en';
        
        // Apply initial language
        applyTranslations(savedLang);
        
        // Handle language button click
        document.querySelectorAll('.lang-btn, .lang-selector-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const lang = this.getAttribute('data-lang');
                applyTranslations(lang);
                document.getElementById('language-modal').classList.add('hidden');
            });
        });
        
        // Handle language menu toggle
        document.getElementById('language-btn').addEventListener('click', function() {
            showModal('language-modal');
        });
        
        // Section navigation for main app
        const sections = ['home', 'groups', 'expenses', 'marketplace', 'profile'];
        
        function showSection(sectionName) {
            // Hide all sections
            sections.forEach(section => {
                const sectionEl = document.getElementById(`${section}-section`);
                if (sectionEl) {
                    sectionEl.classList.add('hidden');
                    sectionEl.classList.remove('slide-in');
                }
            });
            
            // Show selected section
            const activeSection = document.getElementById(`${sectionName}-section`);
            if (activeSection) {
                activeSection.classList.remove('hidden');
                // Trigger reflow to restart animation
                void activeSection.offsetWidth;
                activeSection.classList.add('slide-in');
            }
            
            // Update nav buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                const btnSection = btn.getAttribute('data-section');
                if (btnSection === sectionName) {
                    btn.classList.add('text-primary');
                    btn.classList.remove('text-gray-500', 'dark:text-gray-400');
                } else {
                    btn.classList.remove('text-primary');
                    btn.classList.add('text-gray-500', 'dark:text-gray-400');
                }
            });
        }
        
        // Handle nav button clicks
        document.querySelectorAll('.nav-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const section = this.getAttribute('data-section');
                if (section) {
                    showSection(section);
                }
            });
        });
        
        // Handle category pills
        document.querySelectorAll('.category-pill').forEach(pill => {
            pill.addEventListener('click', function() {
                document.querySelectorAll('.category-pill').forEach(p => {
                    p.classList.remove('selected');
                });
                this.classList.add('selected');
            });
        });
        
        // Modal handling
        function showModal(modalId) {
            document.getElementById('modal-container').classList.remove('hidden');
            
            // Hide all modals first
            document.querySelectorAll('#modal-container > div').forEach(modal => {
                modal.classList.add('hidden');
            });
            
            // Show the requested modal
            document.getElementById(modalId).classList.remove('hidden');
        }
        
        // Close modal when clicking the backdrop or close button
        document.getElementById('modal-container').addEventListener('click', function(e) {
            if (e.target === this) {
                this.classList.add('hidden');
            }
        });
        
        document.querySelectorAll('.modal-close-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.getElementById('modal-container').classList.add('hidden');
            });
        });
        
        // Quick action buttons
        document.getElementById('create-request-btn').addEventListener('click', function() {
            showModal('create-request-modal');
        });
        
        document.getElementById('create-group-btn').addEventListener('click', function() {
            showModal('create-group-modal');
        });
        
        document.getElementById('track-expenses-btn').addEventListener('click', function() {
            showSection('expenses');
        });
        
        document.getElementById('create-event-btn').addEventListener('click', function() {
            showModal('create-event-modal');
        });
        
        // Create button in bottom nav
        document.getElementById('create-btn').addEventListener('click', function() {
            showModal('create-request-modal');
        });
        
        // Payment buttons
        document.getElementById('pay-btn-1').addEventListener('click', function() {
            showModal('payment-modal');
        });
        
        document.getElementById('confirm-payment-btn').addEventListener('click', function() {
            document.getElementById('payment-modal').classList.add('hidden');
            showModal('payment-confirmation-modal');
        });
        
        // Group view buttons
        document.getElementById('view-group-1-btn').addEventListener('click', function() {
            showModal('group-chat-modal');
        });
        
        // Community guidelines
        document.querySelector('#read-guidelines-text').addEventListener('click', function() {
            showModal('guidelines-modal');
        });
        
        // Notifications button
        document.getElementById('notifications-btn').addEventListener('click', function() {
            showModal('notifications-modal');
        });
        
        // Payment method selection
        document.querySelectorAll('.payment-method').forEach(method => {
            method.addEventListener('click', function() {
                document.querySelectorAll('.payment-method').forEach(m => {
                    m.classList.remove('selected');
                    m.querySelector('input[type="radio"]').checked = false;
                });
                this.classList.add('selected');
                this.querySelector('input[type="radio"]').checked = true;
            });
        });
        
        // Registration flow navigation
        
        // Welcome to Register
        document.getElementById('register-btn').addEventListener('click', function() {
            document.getElementById('welcome-screen').classList.add('hidden');
            document.getElementById('register-screen').classList.remove('hidden');
        });
        
        // Welcome to Login
        document.getElementById('login-btn').addEventListener('click', function() {
            document.getElementById('welcome-screen').classList.add('hidden');
            document.getElementById('login-screen').classList.remove('hidden');
        });
        
        // Back to Welcome from Register
        document.getElementById('back-to-welcome-btn').addEventListener('click', function() {
            document.getElementById('register-screen').classList.add('hidden');
            document.getElementById('welcome-screen').classList.remove('hidden');
        });
        
        // Complete registration
        document.getElementById('complete-registration-btn').addEventListener('click', function() {
            document.getElementById('auth-container').classList.add('hidden');
            document.getElementById('main-app').classList.remove('hidden');
        });
        
        // Skip verification and complete registration
        document.getElementById('skip-verification-btn').addEventListener('click', function() {
            document.getElementById('auth-container').classList.add('hidden');
            document.getElementById('main-app').classList.remove('hidden');
        });
        
        // Default to home section when app loads
        showSection('home');
    </script>
</body>
</html>
