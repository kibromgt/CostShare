<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CostShare - Ethiopian Super-App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#5D5CDE',
                        'primary-dark': '#4949b3',
                        accent: '#27AE60',
                        'accent-dark': '#1e8449',
                        'ethiopian-green': '#078930',
                        'ethiopian-yellow': '#FCDD09',
                        'ethiopian-red': '#DA121A',
                        dark: '#181818',
                        light: '#FFFFFF',
                        telebirr: '#321375',
                        cbe: '#154733',
                        mpsa: '#033E8C',
                        mbirr: '#E3051B',
                        investment: '#6366F1',
                        ride: '#10B981',
                        rent: '#F59E0B',
                        goods: '#EC4899',
                        vegetables: '#34D399',
                        tutor: '#8B5CF6',
                        service: '#F97316'
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    }
                }
            }
        };
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Ethiopic:wght@400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
        }
        
        /* Dark mode styles */
        .dark {
            color-scheme: dark;
        }
        
        /* Animation for the logo */
        @keyframes pulse-ring {
            0% {
                transform: scale(0.95);
            }
            70% {
                transform: scale(1);
            }
            100% {
                transform: scale(0.95);
            }
        }
        
        .animate-pulse-slow {
            animation: pulse-ring 3s cubic-bezier(0.215, 0.61, 0.355, 1) infinite;
        }
        
        /* Sliding animation for sections */
        @keyframes slideInRight {
            from {
                transform: translateX(30px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        .slide-in {
            animation: slideInRight 0.3s ease-out forwards;
        }
        
        /* Sliding animation for modals */
        @keyframes slideInUp {
            from {
                transform: translateY(30px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        .slide-up {
            animation: slideInUp 0.3s ease-out forwards;
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.05);
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }
        
        .dark ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }
        
        .dark ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
        }
        
        /* Language specific fonts */
        .lang-amharic, .lang-tigrinya, .lang-oromo {
            font-family: 'Noto Sans Ethiopic', 'Inter', sans-serif;
        }
        
        /* Map marker animation */
        @keyframes bounce {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-8px);
            }
        }
        
        .map-marker {
            animation: bounce 1.5s ease infinite;
        }
        
        /* Ripple animation for location */
        @keyframes ripple {
            0% {
                transform: scale(0.8);
                opacity: 1;
            }
            100% {
                transform: scale(2);
                opacity: 0;
            }
        }
        
        .ripple {
            animation: ripple 2s linear infinite;
        }
        
        /* Verification badge pulse animation */
        @keyframes badgePulse {
            0% {
                box-shadow: 0 0 0 0 rgba(39, 174, 96, 0.7);
            }
            70% {
                box-shadow: 0 0 0 5px rgba(39, 174, 96, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(39, 174, 96, 0);
            }
        }
        
        .badge-pulse {
            animation: badgePulse 2s infinite;
        }
        
        /* OTP input style */
        .otp-input {
            width: 3rem;
            height: 3rem;
            font-size: 1.5rem;
            text-align: center;
        }
        
        /* Stepper connector line */
        .connector-line {
            position: absolute;
            top: 1.5rem;
            left: calc(25% + 1.5rem);
            right: calc(25% + 1.5rem);
            height: 2px;
            background-color: #E5E7EB;
            z-index: 0;
        }
        
        .dark .connector-line {
            background-color: #4B5563;
        }
        
        /* Secure icon pulse */
        @keyframes securePulse {
            0% {
                opacity: 0.7;
            }
            50% {
                opacity: 1;
            }
            100% {
                opacity: 0.7;
            }
        }
        
        .secure-pulse {
            animation: securePulse 2s ease-in-out infinite;
        }

        /* Offline indicator */
        @keyframes offlineIndicator {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.5;
            }
        }
        
        .offline-indicator {
            animation: offlineIndicator 2s ease-in-out infinite;
        }

        /* Payment method selection */
        .payment-method {
            transition: all 0.2s ease;
        }
        .payment-method.selected {
            border-color: #5D5CDE;
            background-color: rgba(93, 92, 222, 0.1);
        }

        /* Category pills */
        .category-pill {
            transition: all 0.2s ease;
        }
        .category-pill.selected {
            background-color: #5D5CDE;
            color: white;
        }

        /* Message timeline */
        .message-timeline::before {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            left: 24px;
            width: 2px;
            background-color: #E5E7EB;
            z-index: 0;
        }
        
        .dark .message-timeline::before {
            background-color: #4B5563;
        }

        /* Loader animation */
        @keyframes loadingDots {
            0%, 100% {
                opacity: 0.2;
            }
            50% {
                opacity: 1;
            }
        }
        
        .loading-dot:nth-child(1) {
            animation: loadingDots 1.4s 0s infinite ease-in-out;
        }
        
        .loading-dot:nth-child(2) {
            animation: loadingDots 1.4s 0.2s infinite ease-in-out;
        }
        
        .loading-dot:nth-child(3) {
            animation: loadingDots 1.4s 0.4s infinite ease-in-out;
        }
        
        /* Map styles */
        .map-container {
            position: relative;
            overflow: hidden;
            height: 200px;
            border-radius: 0.75rem;
        }
        
        .map-placeholder {
            position: relative;
            height: 100%;
            background-color: #E5E7EB;
            display: flex;
            align-items: center;
            justify-content: center;
            background-image: url('https://maps.googleapis.com/maps/api/staticmap?center=Addis+Ababa,Ethiopia&zoom=13&size=400x200&scale=2&maptype=roadmap&key=NO_API_KEY_DEMO_ONLY');
            background-size: cover;
            background-position: center;
        }
        
        .dark .map-placeholder {
            background-color: #374151;
            opacity: 0.7;
        }
        
        .map-pin {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -100%);
            color: #DC2626;
            font-size: 2rem;
            filter: drop-shadow(0px 2px 2px rgba(0, 0, 0, 0.5));
        }
        
        /* Category grid */
        .category-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.5rem;
        }
        
        .category-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 0.75rem;
            border-radius: 0.5rem;
            transition: all 0.2s ease;
        }
        
        .category-item:hover {
            transform: translateY(-2px);
        }
        
        /* Calendar styles */
        .calendar-days {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 0.25rem;
        }
        
        .calendar-day {
            display: flex;
            align-items: center;
            justify-content: center;
            aspect-ratio: 1;
            border-radius: 50%;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .calendar-day:hover:not(.day-disabled) {
            background-color: #F3F4F6;
        }
        
        .dark .calendar-day:hover:not(.day-disabled) {
            background-color: #374151;
        }
        
        .day-selected {
            background-color: #5D5CDE;
            color: white;
        }
        
        .day-today {
            border: 1px solid #5D5CDE;
        }
        
        .day-disabled {
            color: #9CA3AF;
            cursor: not-allowed;
        }
        
        /* New payment method styles */
        .payment-app-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.5rem;
        }
        
        .payment-app {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0.75rem;
            border-radius: 0.5rem;
            border: 1px solid #E5E7EB;
            transition: all 0.2s ease;
            cursor: pointer;
        }
        
        .dark .payment-app {
            border-color: #4B5563;
        }
        
        .payment-app:hover {
            border-color: #5D5CDE;
            background-color: rgba(93, 92, 222, 0.05);
        }
        
        .payment-app.selected {
            border-color: #5D5CDE;
            background-color: rgba(93, 92, 222, 0.1);
        }
    </style>
</head>
<body class="bg-light dark:bg-dark transition-colors duration-300">
    <div id="app" class="max-w-md mx-auto h-screen flex flex-col relative">
        <!-- Offline Mode Indicator (shows when offline) -->
        <div id="offline-banner" class="hidden fixed top-0 inset-x-0 bg-ethiopian-yellow z-50 py-2 text-center offline-indicator">
            <div class="max-w-md mx-auto flex items-center justify-center text-sm font-medium text-gray-900">
                <i class="fas fa-wifi-slash mr-2"></i>
                <span id="offline-text">You're in offline mode. Some features may be limited.</span>
            </div>
        </div>
        
        <!-- Authentication Section -->
        <div id="auth-container" class="h-full">
            <!-- Authentication content omitted for brevity -->
        </div>
        
        <!-- Main App (Initially Hidden) -->
        <div id="main-app" class="h-full flex flex-col hidden">
            <!-- Header -->
            <header class="p-4 bg-white dark:bg-dark shadow-sm dark:shadow-gray-800 z-10 flex items-center justify-between">
                <!-- Logo -->
                <div class="flex items-center">
                    <div class="w-10 h-10 relative mr-2">
                        <svg viewBox="0 0 100 100" class="w-full h-full">
                            <circle cx="50" cy="50" r="45" fill="none" stroke="#5D5CDE" stroke-width="2" />
                            <circle cx="50" cy="20" r="8" fill="#078930" />
                            <circle cx="80" cy="50" r="8" fill="#FCDD09" />
                            <circle cx="50" cy="80" r="8" fill="#DA121A" />
                            <circle cx="20" cy="50" r="8" fill="#5D5CDE" />
                            <line x1="50" y1="20" x2="80" y2="50" stroke="#5D5CDE" stroke-width="2" />
                            <line x1="80" y1="50" x2="50" y2="80" stroke="#5D5CDE" stroke-width="2" />
                            <line x1="50" y1="80" x2="20" y2="50" stroke="#5D5CDE" stroke-width="2" />
                            <line x1="20" y1="50" x2="50" y2="20" stroke="#5D5CDE" stroke-width="2" />
                            <circle cx="50" cy="50" r="15" fill="#5D5CDE" />
                            <text x="50" y="54" font-size="14" text-anchor="middle" fill="white" font-weight="bold">$</text>
                        </svg>
                    </div>
                    <h1 class="text-xl font-bold text-gray-900 dark:text-gray-100">CostShare</h1>
                </div>
                
                <!-- Right side icons -->
                <div class="flex items-center space-x-4">
                    <button id="search-btn" class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary">
                        <i class="fas fa-search text-xl"></i>
                    </button>
                    <button id="language-btn" class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary">
                        <i class="fas fa-globe text-xl"></i>
                    </button>
                    <button id="notifications-btn" class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary relative">
                        <i class="fas fa-bell text-xl"></i>
                        <span class="absolute -top-1 -right-1 bg-ethiopian-red text-white text-xs rounded-full h-4 w-4 flex items-center justify-center">3</span>
                    </button>
                    <button id="profile-btn" class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary">
                        <i class="fas fa-user-circle text-xl"></i>
                    </button>
                </div>
            </header>
            
            <!-- Main Content -->
            <main class="flex-1 overflow-auto p-4">
                <!-- Welcome Card -->
                <div class="bg-white dark:bg-gray-800 rounded-xl p-5 shadow-md mb-6">
                    <div class="flex items-center">
                        <div class="mr-3">
                            <div class="w-12 h-12 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center text-primary">
                                <i class="fas fa-user text-xl"></i>
                            </div>
                        </div>
                        <div>
                            <h2 class="text-xl font-bold text-gray-900 dark:text-gray-100" id="welcome-text">Welcome, Genet</h2>
                            <div class="flex items-center">
                                <p class="text-gray-600 dark:text-gray-400 text-sm" id="subwelcome-text">What would you like to share today?</p>
                                <div class="ml-2 bg-accent text-white text-xs px-2 py-0.5 rounded-full flex items-center badge-pulse">
                                    <i class="fas fa-shield-check text-xs mr-1"></i>
                                    <span id="verified-text">Verified</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- New Enhanced Category Selection -->
                <div class="category-grid mb-6">
                    <button class="category-item bg-investment bg-opacity-10 dark:bg-opacity-20 hover:bg-opacity-20 dark:hover:bg-opacity-30" data-category="investment">
                        <i class="fas fa-chart-line text-investment text-xl mb-2"></i>
                        <span class="text-xs text-gray-700 dark:text-gray-300">Investment</span>
                    </button>
                    <button class="category-item bg-ride bg-opacity-10 dark:bg-opacity-20 hover:bg-opacity-20 dark:hover:bg-opacity-30" data-category="ride">
                        <i class="fas fa-car text-ride text-xl mb-2"></i>
                        <span class="text-xs text-gray-700 dark:text-gray-300">Ride</span>
                    </button>
                    <button class="category-item bg-rent bg-opacity-10 dark:bg-opacity-20 hover:bg-opacity-20 dark:hover:bg-opacity-30" data-category="rent">
                        <i class="fas fa-home text-rent text-xl mb-2"></i>
                        <span class="text-xs text-gray-700 dark:text-gray-300">Rent</span>
                    </button>
                    <button class="category-item bg-goods bg-opacity-10 dark:bg-opacity-20 hover:bg-opacity-20 dark:hover:bg-opacity-30" data-category="goods">
                        <i class="fas fa-shopping-basket text-goods text-xl mb-2"></i>
                        <span class="text-xs text-gray-700 dark:text-gray-300">Goods</span>
                    </button>
                    <button class="category-item bg-vegetables bg-opacity-10 dark:bg-opacity-20 hover:bg-opacity-20 dark:hover:bg-opacity-30" data-category="vegetables">
                        <i class="fas fa-carrot text-vegetables text-xl mb-2"></i>
                        <span class="text-xs text-gray-700 dark:text-gray-300">Vegetables</span>
                    </button>
                    <button class="category-item bg-tutor bg-opacity-10 dark:bg-opacity-20 hover:bg-opacity-20 dark:hover:bg-opacity-30" data-category="tutor">
                        <i class="fas fa-chalkboard-teacher text-tutor text-xl mb-2"></i>
                        <span class="text-xs text-gray-700 dark:text-gray-300">Home Tutor</span>
                    </button>
                    <button class="category-item bg-service bg-opacity-10 dark:bg-opacity-20 hover:bg-opacity-20 dark:hover:bg-opacity-30" data-category="service">
                        <i class="fas fa-concierge-bell text-service text-xl mb-2"></i>
                        <span class="text-xs text-gray-700 dark:text-gray-300">Services</span>
                    </button>
                    <button class="category-item bg-gray-500 bg-opacity-10 dark:bg-opacity-20 hover:bg-opacity-20 dark:hover:bg-opacity-30" data-category="everything">
                        <i class="fas fa-th-large text-gray-500 text-xl mb-2"></i>
                        <span class="text-xs text-gray-700 dark:text-gray-300">Everything</span>
                    </button>
                </div>
                
                <!-- Quick Actions -->
                <div class="grid grid-cols-4 gap-4 mb-6">
                    <button class="flex flex-col items-center justify-center p-3 bg-primary bg-opacity-10 dark:bg-opacity-20 rounded-xl transition hover:bg-opacity-20 dark:hover:bg-opacity-30" id="create-request-btn">
                        <i class="fas fa-plus-circle text-primary text-xl mb-2"></i>
                        <span class="text-xs text-gray-700 dark:text-gray-300" id="new-request-text">New Request</span>
                    </button>
                    <button class="flex flex-col items-center justify-center p-3 bg-ethiopian-green bg-opacity-10 dark:bg-opacity-20 rounded-xl transition hover:bg-opacity-20 dark:hover:bg-opacity-30" id="create-group-btn">
                        <i class="fas fa-users text-ethiopian-green text-xl mb-2"></i>
                        <span class="text-xs text-gray-700 dark:text-gray-300" id="new-group-text">Create Group</span>
                    </button>
                    <button class="flex flex-col items-center justify-center p-3 bg-ethiopian-yellow bg-opacity-10 dark:bg-opacity-20 rounded-xl transition hover:bg-opacity-20 dark:hover:bg-opacity-30" id="track-expenses-btn">
                        <i class="fas fa-receipt text-ethiopian-yellow text-xl mb-2"></i>
                        <span class="text-xs text-gray-700 dark:text-gray-300" id="track-expenses-text">Track Expenses</span>
                    </button>
                    <button class="flex flex-col items-center justify-center p-3 bg-ethiopian-red bg-opacity-10 dark:bg-opacity-20 rounded-xl transition hover:bg-opacity-20 dark:hover:bg-opacity-30" id="create-event-btn">
                        <i class="fas fa-calendar-plus text-ethiopian-red text-xl mb-2"></i>
                        <span class="text-xs text-gray-700 dark:text-gray-300" id="new-event-text">New Event</span>
                    </button>
                </div>

                <!-- Content Container -->
                <div id="content-container">
                    <!-- Home Section (Initially Visible) -->
                    <section id="home-section" class="slide-in">
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4" id="active-requests-heading">Active Sharing Requests</h3>
                        
                        <!-- Sharing Requests List -->
                        <div class="space-y-4 mb-6">
                            <!-- Request 1 -->
                            <div class="bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm">
                                <div class="flex items-start">
                                    <div class="flex-shrink-0 mt-1">
                                        <div class="w-10 h-10 rounded-full bg-ride bg-opacity-10 flex items-center justify-center">
                                            <i class="fas fa-car text-ride"></i>
                                        </div>
                                    </div>
                                    <div class="ml-3 flex-1">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <h4 class="font-medium text-gray-900 dark:text-gray-100">Looking for ride share to Meskel Square</h4>
                                                <p class="text-xs text-gray-500 dark:text-gray-400">Posted by Kibrom Gebregergs • <span class="text-primary">15 min ago</span></p>
                                            </div>
                                            <div class="bg-ride bg-opacity-10 dark:bg-opacity-20 text-ride text-xs px-2 py-1 rounded-full">
                                                Ride
                                            </div>
                                        </div>
                                        <div class="mt-2 text-sm text-gray-600 dark:text-gray-400">
                                            Looking for 3 people to share a taxi from Bole to Meskel Square tomorrow at 9am
                                        </div>
                                        <div class="flex items-center mt-2 text-xs text-gray-500 dark:text-gray-400">
                                            <div class="flex items-center mr-3">
                                                <i class="fas fa-calendar-alt mr-1"></i>
                                                <span>Apr 20, 2023 • 9:00 AM - 10:00 AM</span>
                                            </div>
                                            <div class="flex items-center">
                                                <i class="fas fa-money-bill-wave mr-1"></i>
                                                <span>50 ETB per person</span>
                                            </div>
                                        </div>
                                        <div class="mt-3 flex items-center justify-between">
                                            <div class="flex -space-x-2">
                                                <div class="w-6 h-6 rounded-full bg-gray-200 dark:bg-gray-700 border border-white dark:border-gray-800 flex items-center justify-center text-xs overflow-hidden">
                                                    <i class="fas fa-user"></i>
                                                </div>
                                                <div class="w-6 h-6 rounded-full bg-gray-200 dark:bg-gray-700 border border-white dark:border-gray-800 flex items-center justify-center text-xs overflow-hidden">
                                                    <i class="fas fa-user"></i>
                                                </div>
                                                <div class="w-6 h-6 rounded-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 flex items-center justify-center text-xs text-gray-500 dark:text-gray-400">
                                                    <span>+1</span>
                                                </div>
                                            </div>
                                            <button class="bg-primary text-white text-xs px-3 py-1.5 rounded-lg" id="join-btn-1">Join</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Request 2 -->
                            <div class="bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm">
                                <div class="flex items-start">
                                    <div class="flex-shrink-0 mt-1">
                                        <div class="w-10 h-10 rounded-full bg-vegetables bg-opacity-10 flex items-center justify-center">
                                            <i class="fas fa-carrot text-vegetables"></i>
                                        </div>
                                    </div>
                                    <div class="ml-3 flex-1">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <h4 class="font-medium text-gray-900 dark:text-gray-100">Bulk vegetable purchase group</h4>
                                                <p class="text-xs text-gray-500 dark:text-gray-400">Posted by Naysa Kibrom • <span class="text-primary">2 hours ago</span></p>
                                            </div>
                                            <div class="bg-vegetables bg-opacity-10 dark:bg-opacity-20 text-vegetables text-xs px-2 py-1 rounded-full">
                                                Vegetables
                                            </div>
                                        </div>
                                        <div class="mt-2 text-sm text-gray-600 dark:text-gray-400">
                                            Planning to buy fresh vegetables in bulk this Saturday to share costs. Need 5 more people to join.
                                        </div>
                                        <div class="flex items-center mt-2 text-xs text-gray-500 dark:text-gray-400">
                                            <div class="flex items-center mr-3">
                                                <i class="fas fa-calendar-alt mr-1"></i>
                                                <span>Apr 22, 2023 • 8:00 AM - 10:00 AM</span>
                                            </div>
                                            <div class="flex items-center">
                                                <i class="fas fa-money-bill-wave mr-1"></i>
                                                <span>~200 ETB per person</span>
                                            </div>
                                        </div>
                                        <div class="mt-3 flex items-center justify-between">
                                            <div class="flex -space-x-2">
                                                <div class="w-6 h-6 rounded-full bg-gray-200 dark:bg-gray-700 border border-white dark:border-gray-800 flex items-center justify-center text-xs overflow-hidden">
                                                    <i class="fas fa-user"></i>
                                                </div>
                                                <div class="w-6 h-6 rounded-full bg-gray-200 dark:bg-gray-700 border border-white dark:border-gray-800 flex items-center justify-center text-xs overflow-hidden">
                                                    <i class="fas fa-user"></i>
                                                </div>
                                                <div class="w-6 h-6 rounded-full bg-gray-200 dark:bg-gray-700 border border-white dark:border-gray-800 flex items-center justify-center text-xs overflow-hidden">
                                                    <i class="fas fa-user"></i>
                                                </div>
                                                <div class="w-6 h-6 rounded-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 flex items-center justify-center text-xs text-gray-500 dark:text-gray-400">
                                                    <span>+2</span>
                                                </div>
                                            </div>
                                            <button class="bg-primary text-white text-xs px-3 py-1.5 rounded-lg" id="join-btn-2">Join</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Request 3 - Investment -->
                            <div class="bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm">
                                <div class="flex items-start">
                                    <div class="flex-shrink-0 mt-1">
                                        <div class="w-10 h-10 rounded-full bg-investment bg-opacity-10 flex items-center justify-center">
                                            <i class="fas fa-chart-pie text-investment"></i>
                                        </div>
                                    </div>
                                    <div class="ml-3 flex-1">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <h4 class="font-medium text-gray-900 dark:text-gray-100">Small business investment group</h4>
                                                <p class="text-xs text-gray-500 dark:text-gray-400">Posted by Ithiel Kibrom • <span class="text-primary">Yesterday</span></p>
                                            </div>
                                            <div class="bg-investment bg-opacity-10 dark:bg-opacity-20 text-investment text-xs px-2 py-1 rounded-full">
                                                Investment
                                            </div>
                                        </div>
                                        <div class="mt-2 text-sm text-gray-600 dark:text-gray-400">
                                            Looking for 5 more partners to jointly invest in a small café business. Initial investment 10,000 ETB per person.
                                        </div>
                                        <div class="flex items-center mt-2 text-xs text-gray-500 dark:text-gray-400">
                                            <div class="flex items-center mr-3">
                                                <i class="fas fa-calendar-alt mr-1"></i>
                                                <span>Meeting: Apr 25, 2023 • 5:00 PM</span>
                                            </div>
                                            <div class="flex items-center">
                                                <i class="fas fa-money-bill-wave mr-1"></i>
                                                <span>10,000 ETB per person</span>
                                            </div>
                                        </div>
                                        <div class="mt-3 flex items-center justify-between">
                                            <div class="flex -space-x-2">
                                                <div class="w-6 h-6 rounded-full bg-gray-200 dark:bg-gray-700 border border-white dark:border-gray-800 flex items-center justify-center text-xs overflow-hidden">
                                                    <i class="fas fa-user"></i>
                                                </div>
                                                <div class="w-6 h-6 rounded-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 flex items-center justify-center text-xs text-gray-500 dark:text-gray-400">
                                                    <span>+9</span>
                                                </div>
                                            </div>
                                            <button class="bg-primary text-white text-xs px-3 py-1.5 rounded-lg" id="join-btn-3">Join</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- My Active Groups -->
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4" id="my-groups-heading">My Active Groups</h3>
                        
                        <div class="space-y-4 mb-6">
                            <!-- Group 1 -->
                            <div class="bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm">
                                <div class="flex">
                                    <div class="flex-shrink-0">
                                        <div class="w-12 h-12 rounded-lg bg-service bg-opacity-10 dark:bg-opacity-20 flex items-center justify-center">
                                            <i class="fas fa-bolt text-service text-xl"></i>
                                        </div>
                                    </div>
                                    <div class="ml-4 flex-1">
                                        <div class="flex justify-between items-start">
                                            <h4 class="font-medium text-gray-900 dark:text-gray-100">Addis Utility Sharing Group</h4>
                                            <span class="bg-accent bg-opacity-10 text-accent text-xs px-2 py-1 rounded-full flex items-center">
                                                <i class="fas fa-users text-xs mr-1"></i> 7 members
                                            </span>
                                        </div>
                                        <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">Shared internet and utility expenses for Bole area apartments</p>
                                        <div class="mt-3 flex justify-between items-center">
                                            <span class="text-xs text-gray-500 dark:text-gray-400">Last activity: 2 hours ago</span>
                                            <button class="text-primary text-xs font-medium">View Details</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Group 2 -->
                            <div class="bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm">
                                <div class="flex">
                                    <div class="flex-shrink-0">
                                        <div class="w-12 h-12 rounded-lg bg-ride bg-opacity-10 dark:bg-opacity-20 flex items-center justify-center">
                                            <i class="fas fa-car text-ride text-xl"></i>
                                        </div>
                                    </div>
                                    <div class="ml-4 flex-1">
                                        <div class="flex justify-between items-start">
                                            <h4 class="font-medium text-gray-900 dark:text-gray-100">Daily Office Carpool Group</h4>
                                            <span class="bg-accent bg-opacity-10 text-accent text-xs px-2 py-1 rounded-full flex items-center">
                                                <i class="fas fa-users text-xs mr-1"></i> 4 members
                                            </span>
                                        </div>
                                        <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">Morning and evening carpool to the business district</p>
                                        <div class="mt-3 flex justify-between items-center">
                                            <span class="text-xs text-gray-500 dark:text-gray-400">Last activity: Today</span>
                                            <button class="text-primary text-xs font-medium">View Details</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Featured Investment Section -->
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100">Featured Investments</h3>
                            <a href="#" class="text-primary text-sm" id="see-all-text">See all</a>
                        </div>
                        
                        <div class="space-y-4 mb-6">
                            <div class="bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-sm">
                                <div class="p-4">
                                    <div class="flex items-start">
                                        <div class="flex-shrink-0">
                                            <div class="w-12 h-12 rounded-lg bg-investment bg-opacity-10 dark:bg-opacity-20 flex items-center justify-center">
                                                <i class="fas fa-seedling text-investment text-xl"></i>
                                            </div>
                                        </div>
                                        <div class="ml-4 flex-1">
                                            <div class="flex justify-between items-start">
                                                <h4 class="font-medium text-gray-900 dark:text-gray-100">Organic Farming Cooperative</h4>
                                                <span class="bg-investment bg-opacity-10 text-investment text-xs px-2 py-1 rounded-full">
                                                    Cooperative
                                                </span>
                                            </div>
                                            <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">Joint investment in organic farming project with 30% projected annual returns</p>
                                            
                                            <div class="mt-3 bg-gray-100 dark:bg-gray-700 rounded-lg p-3">
                                                <div class="flex justify-between items-center mb-1">
                                                    <span class="text-xs text-gray-500 dark:text-gray-400">Investment Goal</span>
                                                    <span class="text-xs font-medium text-gray-700 dark:text-gray-300">500,000 ETB</span>
                                                </div>
                                                <div class="w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2">
                                                    <div class="bg-investment h-2 rounded-full" style="width: 65%"></div>
                                                </div>
                                                <div class="flex justify-between items-center mt-1">
                                                    <span class="text-xs text-gray-500 dark:text-gray-400">325,000 ETB raised</span>
                                                    <span class="text-xs text-gray-500 dark:text-gray-400">65%</span>
                                                </div>
                                            </div>
                                            
                                            <div class="mt-3 flex flex-wrap gap-2">
                                                <div class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-md text-gray-600 dark:text-gray-400">
                                                    <i class="fas fa-users text-xs mr-1"></i> 12 investors
                                                </div>
                                                <div class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-md text-gray-600 dark:text-gray-400">
                                                    <i class="fas fa-money-bill-wave text-xs mr-1"></i> Min: 5,000 ETB
                                                </div>
                                                <div class="text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-md text-gray-600 dark:text-gray-400">
                                                    <i class="fas fa-calendar-alt text-xs mr-1"></i> 5 days left
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="border-t border-gray-200 dark:border-gray-700 px-4 py-3 bg-gray-50 dark:bg-gray-800">
                                    <div class="flex justify-between items-center">
                                        <div class="flex items-center">
                                            <span class="text-sm font-medium text-gray-700 dark:text-gray-300 mr-2">30% ROI</span>
                                            <span class="text-xs text-gray-500 dark:text-gray-400">Projected Annual</span>
                                        </div>
                                        <button class="bg-investment hover:bg-investment-dark text-white text-sm px-4 py-1.5 rounded-lg flex items-center">
                                            <span>Invest Now</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Upcoming Events -->
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100" id="events-heading">Upcoming Events</h3>
                            <a href="#" class="text-primary text-sm" id="view-all-text">View all</a>
                        </div>
                        
                        <div class="space-y-4 mb-6">
                            <div class="bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm">
                                <div class="flex">
                                    <div class="flex-shrink-0">
                                        <div class="w-12 h-16 bg-primary bg-opacity-10 dark:bg-opacity-20 rounded-lg flex flex-col items-center justify-center">
                                            <span class="text-primary text-xs font-medium">APR</span>
                                            <span class="text-primary text-xl font-bold">15</span>
                                        </div>
                                    </div>
                                    <div class="ml-4 flex-1">
                                        <h4 class="font-medium text-gray-900 dark:text-gray-100">Community Market Day</h4>
                                        <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">Group purchase event at Mercato</p>
                                        <div class="mt-2 text-xs text-gray-500 dark:text-gray-400">
                                            <div class="flex items-center mb-1">
                                                <i class="fas fa-clock mr-1"></i>
                                                <span>9:00 AM - 2:00 PM</span>
                                            </div>
                                            <div class="flex items-center">
                                                <i class="fas fa-map-marker-alt mr-1"></i>
                                                <span>Mercato, Addis Ababa</span>
                                            </div>
                                        </div>
                                        <div class="mt-3 flex items-center justify-between">
                                            <div class="flex items-center text-gray-500 dark:text-gray-400 text-xs">
                                                <i class="fas fa-users mr-1"></i>
                                                <span>23 going • 8 spots left</span>
                                            </div>
                                            <button class="bg-primary text-white text-xs px-3 py-1 rounded-lg">Join Event</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                    
                    <!-- Other sections omitted for brevity -->
                </div>
            </main>
            
            <!-- Bottom Navigation -->
            <nav class="bg-white dark:bg-gray-900 shadow-[0_-2px_10px_rgba(0,0,0,0.05)] dark:shadow-[0_-2px_10px_rgba(0,0,0,0.2)] p-2">
                <div class="flex justify-around items-center">
                    <button class="nav-btn flex flex-col items-center p-2 text-primary" data-section="home">
                        <i class="fas fa-home text-xl mb-1"></i>
                        <span class="text-xs" id="nav-home-text">Home</span>
                    </button>
                    <button class="nav-btn flex flex-col items-center p-2 text-gray-500 dark:text-gray-400" data-section="groups">
                        <i class="fas fa-users text-xl mb-1"></i>
                        <span class="text-xs" id="nav-groups-text">Groups</span>
                    </button>
                    <button class="nav-btn flex flex-col items-center p-2 text-gray-500 dark:text-gray-400" data-section="expenses">
                        <i class="fas fa-receipt text-xl mb-1"></i>
                        <span class="text-xs" id="nav-expenses-text">Expenses</span>
                    </button>
                    <button id="create-btn" class="flex flex-col items-center justify-center bg-primary text-white w-12 h-12 rounded-full shadow-lg">
                        <i class="fas fa-plus text-xl"></i>
                    </button>
                    <button class="nav-btn flex flex-col items-center p-2 text-gray-500 dark:text-gray-400" data-section="marketplace">
                        <i class="fas fa-store text-xl mb-1"></i>
                        <span class="text-xs" id="nav-marketplace-text">Market</span>
                    </button>
                    <button class="nav-btn flex flex-col items-center p-2 text-gray-500 dark:text-gray-400" data-section="profile">
                        <i class="fas fa-user text-xl mb-1"></i>
                        <span class="text-xs" id="nav-profile-text">Profile</span>
                    </button>
                </div>
            </nav>
        </div>
        
        <!-- Modal Container -->
        <div id="modal-container" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
            <!-- Create Request Modal with Enhanced Features -->
            <div id="create-request-modal" class="bg-white dark:bg-gray-800 w-11/12 max-w-md rounded-xl shadow-lg slide-up hidden max-h-[90vh] overflow-y-auto">
                <div class="p-5">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold text-gray-900 dark:text-gray-100" id="new-sharing-request-text">New Sharing Request</h3>
                        <button class="modal-close-btn text-gray-500 dark:text-gray-400">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                    
                    <form class="space-y-4">
                        <div>
                            <label for="request-title" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="request-title-text">Request Title</label>
                            <input type="text" id="request-title" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base" placeholder="E.g., Looking for carpool partners">
                        </div>
                        
                        <!-- Enhanced Category Selection -->
                        <div>
                            <label for="request-category" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="request-category-text">Category</label>
                            <select id="request-category" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base">
                                <optgroup label="Investments">
                                    <option value="bonds">Bonds</option>
                                    <option value="stocks">Shares (Stocks)</option>
                                    <option value="cooperative">Cooperative</option>
                                    <option value="startup">Startup</option>
                                </optgroup>
                                <optgroup label="Transportation">
                                    <option value="car">Car</option>
                                    <option value="bajaj">Bajaj</option>
                                    <option value="motorcycle">Motorcycle</option>
                                </optgroup>
                                <optgroup label="Rent">
                                    <option value="office">Office Space</option>
                                    <option value="shop">Shops</option>
                                    <option value="living">Living Space</option>
                                </optgroup>
                                <optgroup label="Goods & Food">
                                    <option value="groceries">Groceries</option>
                                    <option value="vegetables">Vegetables & Crops</option>
                                </optgroup>
                                <optgroup label="Services">
                                    <option value="tutor">Home Tutor</option>
                                    <option value="service">General Services</option>
                                </optgroup>
                            </select>
                        </div>
                        
                        <div>
                            <label for="request-description" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="request-description-text">Description</label>
                            <textarea id="request-description" rows="4" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base" placeholder="Describe what you're looking to share and any important details"></textarea>
                        </div>
                        
                        <!-- Enhanced Schedule Section -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Schedule</label>
                            <div class="grid grid-cols-2 gap-4 mb-2">
                                <div>
                                    <label for="request-start-date" class="block text-xs text-gray-500 dark:text-gray-400 mb-1">Start Date</label>
                                    <input type="date" id="request-start-date" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base">
                                </div>
                                <div>
                                    <label for="request-start-time" class="block text-xs text-gray-500 dark:text-gray-400 mb-1">Start Time</label>
                                    <input type="time" id="request-start-time" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base">
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label for="request-end-date" class="block text-xs text-gray-500 dark:text-gray-400 mb-1">End Date</label>
                                    <input type="date" id="request-end-date" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base">
                                </div>
                                <div>
                                    <label for="request-end-time" class="block text-xs text-gray-500 dark:text-gray-400 mb-1">End Time</label>
                                    <input type="time" id="request-end-time" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Enhanced Location with Map -->
                        <div>
                            <label for="request-location" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="request-location-text">Location</label>
                            <div class="relative mb-2">
                                <i class="fas fa-map-marker-alt absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                                <input type="text" id="request-location" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl pl-10 pr-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base" placeholder="Add a location">
                            </div>
                            
                            <!-- Map Preview -->
                            <div class="map-container">
                                <div class="map-placeholder">
                                    <i class="fas fa-map-marker-alt map-pin map-marker"></i>
                                    <div class="absolute bottom-2 right-2 bg-white dark:bg-gray-800 rounded-lg p-1 shadow-md">
                                        <button type="button" class="text-xs px-2 py-1 flex items-center text-primary">
                                            <i class="fas fa-location-arrow mr-1"></i>
                                            <span>Use Current Location</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Participation & Costs -->
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label for="request-people" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="request-people-text">People Needed</label>
                                <input type="number" id="request-people" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base" min="1" placeholder="E.g., 3">
                            </div>
                            <div>
                                <label for="request-cost" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="request-cost-text">Cost Per Person</label>
                                <div class="relative">
                                    <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500 dark:text-gray-400">ETB</span>
                                    <input type="number" id="request-cost" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 pl-12 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base" min="0" placeholder="0.00">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Payment Methods -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Accepted Payment Methods</label>
                            <div class="payment-app-grid">
                                <div class="payment-app selected">
                                    <div class="w-10 h-10 rounded-full bg-telebirr bg-opacity-10 flex items-center justify-center mb-1">
                                        <i class="fas fa-mobile-alt text-telebirr text-lg"></i>
                                    </div>
                                    <span class="text-xs text-center">Telebirr</span>
                                </div>
                                <div class="payment-app">
                                    <div class="w-10 h-10 rounded-full bg-cbe bg-opacity-10 flex items-center justify-center mb-1">
                                        <i class="fas fa-university text-cbe text-lg"></i>
                                    </div>
                                    <span class="text-xs text-center">CBE Birr</span>
                                </div>
                                <div class="payment-app">
                                    <div class="w-10 h-10 rounded-full bg-mpsa bg-opacity-10 flex items-center justify-center mb-1">
                                        <i class="fas fa-credit-card text-mpsa text-lg"></i>
                                    </div>
                                    <span class="text-xs text-center">MPSA</span>
                                </div>
                                <div class="payment-app">
                                    <div class="w-10 h-10 rounded-full bg-mbirr bg-opacity-10 flex items-center justify-center mb-1">
                                        <i class="fas fa-wallet text-mbirr text-lg"></i>
                                    </div>
                                    <span class="text-xs text-center">M-Birr</span>
                                </div>
                                <div class="payment-app">
                                    <div class="w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center mb-1">
                                        <i class="fas fa-money-bill-wave text-gray-500 text-lg"></i>
                                    </div>
                                    <span class="text-xs text-center">Cash</span>
                                </div>
                                <div class="payment-app">
                                    <div class="w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center mb-1">
                                        <i class="fas fa-plus text-gray-500 text-lg"></i>
                                    </div>
                                    <span class="text-xs text-center">Other</span>
                                </div>
                            </div>
                        </div>
                    </form>
                    
                    <div class="mt-6">
                        <button id="post-request-btn" class="w-full bg-primary hover:bg-primary-dark text-white py-3 rounded-xl font-medium transition" id="post-request-text">Post Request</button>
                    </div>
                </div>
            </div>
            
            <!-- Create Event Modal with Enhanced Features -->
            <div id="create-event-modal" class="bg-white dark:bg-gray-800 w-11/12 max-w-md rounded-xl shadow-lg slide-up hidden max-h-[90vh] overflow-y-auto">
                <div class="p-5">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold text-gray-900 dark:text-gray-100" id="create-new-event-text">Create New Event</h3>
                        <button class="modal-close-btn text-gray-500 dark:text-gray-400">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                    
                    <form class="space-y-4">
                        <div>
                            <label for="event-title" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="event-title-text">Event Title</label>
                            <input type="text" id="event-title" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base" placeholder="E.g., Community Market Day">
                        </div>
                        
                        <!-- Event Category -->
                        <div>
                            <label for="event-category" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Category</label>
                            <select id="event-category" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base">
                                <option value="investment">Investment</option>
                                <option value="ride">Ride Sharing</option>
                                <option value="rent">Rent</option>
                                <option value="groceries">Groceries</option>
                                <option value="vegetables">Vegetables & Crops</option>
                                <option value="tutor">Home Tutor</option>
                                <option value="service">General Service</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        
                        <div>
                            <label for="event-description" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="event-description-text">Description</label>
                            <textarea id="event-description" rows="4" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base" placeholder="Describe your event and how costs will be shared"></textarea>
                        </div>
                        
                        <!-- Enhanced Schedule Selection -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Event Schedule</label>
                            <div class="grid grid-cols-2 gap-4 mb-2">
                                <div>
                                    <label for="event-start-date" class="block text-xs text-gray-500 dark:text-gray-400 mb-1">Start Date</label>
                                    <input type="date" id="event-start-date" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base">
                                </div>
                                <div>
                                    <label for="event-start-time" class="block text-xs text-gray-500 dark:text-gray-400 mb-1">Start Time</label>
                                    <input type="time" id="event-start-time" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base">
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label for="event-end-date" class="block text-xs text-gray-500 dark:text-gray-400 mb-1">End Date</label>
                                    <input type="date" id="event-end-date" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base">
                                </div>
                                <div>
                                    <label for="event-end-time" class="block text-xs text-gray-500 dark:text-gray-400 mb-1">End Time</label>
                                    <input type="time" id="event-end-time" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Enhanced Location with Map -->
                        <div>
                            <label for="event-location" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="event-location-text">Location</label>
                            <div class="relative mb-2">
                                <i class="fas fa-map-marker-alt absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                                <input type="text" id="event-location" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl pl-10 pr-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base" placeholder="Add a location">
                            </div>
                            
                            <!-- Map Preview -->
                            <div class="map-container">
                                <div class="map-placeholder">
                                    <i class="fas fa-map-marker-alt map-pin map-marker"></i>
                                    <div class="absolute bottom-2 right-2 bg-white dark:bg-gray-800 rounded-lg p-1 shadow-md">
                                        <button type="button" class="text-xs px-2 py-1 flex items-center text-primary">
                                            <i class="fas fa-location-arrow mr-1"></i>
                                            <span>Use Current Location</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="flex items-center mt-1">
                                <input type="checkbox" id="share-location-admin" class="form-checkbox h-4 w-4 text-primary">
                                <label for="share-location-admin" class="ml-2 text-xs text-gray-500 dark:text-gray-400">Share location data with app administrators for verification</label>
                            </div>
                        </div>
                        
                        <!-- Participation & Costs -->
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label for="event-max-participants" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="max-participants-text">Maximum Participants</label>
                                <input type="number" id="event-max-participants" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base" min="2" placeholder="E.g., 20">
                            </div>
                            <div>
                                <label for="event-cost" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" id="event-cost-text">Cost Per Person</label>
                                <div class="relative">
                                    <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500 dark:text-gray-400">ETB</span>
                                    <input type="number" id="event-cost" class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 pl-12 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary text-base" placeholder="0.00">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Payment Methods -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Accepted Payment Methods</label>
                            <div class="payment-app-grid">
                                <div class="payment-app selected">
                                    <div class="w-10 h-10 rounded-full bg-telebirr bg-opacity-10 flex items-center justify-center mb-1">
                                        <i class="fas fa-mobile-alt text-telebirr text-lg"></i>
                                    </div>
                                    <span class="text-xs text-center">Telebirr</span>
                                </div>
                                <div class="payment-app">
                                    <div class="w-10 h-10 rounded-full bg-cbe bg-opacity-10 flex items-center justify-center mb-1">
                                        <i class="fas fa-university text-cbe text-lg"></i>
                                    </div>
                                    <span class="text-xs text-center">CBE Birr</span>
                                </div>
                                <div class="payment-app">
                                    <div class="w-10 h-10 rounded-full bg-mpsa bg-opacity-10 flex items-center justify-center mb-1">
                                        <i class="fas fa-credit-card text-mpsa text-lg"></i>
                                    </div>
                                    <span class="text-xs text-center">MPSA</span>
                                </div>
                                <div class="payment-app">
                                    <div class="w-10 h-10 rounded-full bg-mbirr bg-opacity-10 flex items-center justify-center mb-1">
                                        <i class="fas fa-wallet text-mbirr text-lg"></i>
                                    </div>
                                    <span class="text-xs text-center">M-Birr</span>
                                </div>
                                <div class="payment-app">
                                    <div class="w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center mb-1">
                                        <i class="fas fa-money-bill-wave text-gray-500 text-lg"></i>
                                    </div>
                                    <span class="text-xs text-center">Cash</span>
                                </div>
                                <div class="payment-app">
                                    <div class="w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center mb-1">
                                        <i class="fas fa-plus text-gray-500 text-lg"></i>
                                    </div>
                                    <span class="text-xs text-center">Other</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Auto-rejection -->
                        <div class="bg-gray-100 dark:bg-gray-700 rounded-xl p-4">
                            <div class="flex items-center justify-between mb-3">
                                <div class="flex items-center">
                                    <i class="fas fa-robot text-gray-600 dark:text-gray-400 mr-2"></i>
                                    <h4 class="text-sm font-medium text-gray-700 dark:text-gray-300">Auto-Rejection</h4>
                                </div>
                                <div class="relative">
                                    <input type="checkbox" id="auto-reject-toggle" class="sr-only" checked>
                                    <div class="w-10 h-5 bg-gray-300 dark:bg-gray-600 rounded-full shadow-inner"></div>
                                    <div class="dot absolute w-5 h-5 bg-white rounded-full shadow -left-1 -top-0 transition"></div>
                                </div>
                            </div>
                            <p class="text-xs text-gray-500 dark:text-gray-400">
                                When enabled, the system will automatically reject new participants once the maximum capacity is reached.
                            </p>
                        </div>
                        
                        <!-- Rescheduling options -->
                        <div class="bg-gray-100 dark:bg-gray-700 rounded-xl p-4">
                            <h4 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Rescheduling Policy</h4>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="reschedule-policy" class="form-radio h-4 w-4 text-primary" checked>
                                    <span class="ml-2 text-sm text-gray-600 dark:text-gray-400">Allow reschedule up to 24 hours before event</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="reschedule-policy" class="form-radio h-4 w-4 text-primary">
                                    <span class="ml-2 text-sm text-gray-600 dark:text-gray-400">Allow reschedule any time before event</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="reschedule-policy" class="form-radio h-4 w-4 text-primary">
                                    <span class="ml-2 text-sm text-gray-600 dark:text-gray-400">No rescheduling allowed</span>
                                </label>
                                <div class="flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mt-2">
                                    <span>Notify all participants when event is rescheduled</span>
                                    <div class="relative">
                                        <input type="checkbox" id="notify-toggle" class="sr-only" checked>
                                        <div class="w-8 h-4 bg-gray-300 dark:bg-gray-600 rounded-full shadow-inner"></div>
                                        <div class="dot absolute w-4 h-4 bg-white rounded-full shadow -left-1 -top-0 transition"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                    
                    <div class="mt-6">
                        <button id="create-event-submit-btn" class="w-full bg-primary hover:bg-primary-dark text-white py-3 rounded-xl font-medium transition" id="create-event-btn-text">Create Event</button>
                    </div>
                </div>
            </div>
            
            <!-- Other modals omitted for brevity -->
        </div>
    </div>
    
    <script>
        // Check for dark mode preference
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });
        
        // Initialize the app (shortcut for demo purposes)
        document.getElementById('auth-container').classList.add('hidden');
        document.getElementById('main-app').classList.remove('hidden');
        
        // Section navigation for main app
        const sections = ['home', 'groups', 'expenses', 'marketplace', 'profile'];
        
        function showSection(sectionName) {
            // Hide all sections
            sections.forEach(section => {
                const sectionEl = document.getElementById(`${section}-section`);
                if (sectionEl) {
                    sectionEl.classList.add('hidden');
                    sectionEl.classList.remove('slide-in');
                }
            });
            
            // Show selected section
            const activeSection = document.getElementById(`${sectionName}-section`);
            if (activeSection) {
                activeSection.classList.remove('hidden');
                // Trigger reflow to restart animation
                void activeSection.offsetWidth;
                activeSection.classList.add('slide-in');
            }
            
            // Update nav buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                const btnSection = btn.getAttribute('data-section');
                if (btnSection === sectionName) {
                    btn.classList.add('text-primary');
                    btn.classList.remove('text-gray-500', 'dark:text-gray-400');
                } else {
                    btn.classList.remove('text-primary');
                    btn.classList.add('text-gray-500', 'dark:text-gray-400');
                }
            });
        }
        
        // Handle nav button clicks
        document.querySelectorAll('.nav-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const section = this.getAttribute('data-section');
                if (section) {
                    showSection(section);
                }
            });
        });
        
        // Modal handling
        function showModal(modalId) {
            document.getElementById('modal-container').classList.remove('hidden');
            
            // Hide all modals first
            document.querySelectorAll('#modal-container > div').forEach(modal => {
                modal.classList.add('hidden');
            });
            
            // Show the requested modal
            document.getElementById(modalId).classList.remove('hidden');
        }
        
        // Close modal when clicking the backdrop or close button
        document.getElementById('modal-container').addEventListener('click', function(e) {
            if (e.target === this) {
                this.classList.add('hidden');
            }
        });
        
        document.querySelectorAll('.modal-close-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.getElementById('modal-container').classList.add('hidden');
            });
        });
        
        // Quick action buttons
        document.getElementById('create-request-btn').addEventListener('click', function() {
            showModal('create-request-modal');
        });
        
        document.getElementById('create-event-btn').addEventListener('click', function() {
            showModal('create-event-modal');
        });
        
        // Create button in bottom nav
        document.getElementById('create-btn').addEventListener('click', function() {
            showModal('create-request-modal');
        });
        
        // Category handling
        document.querySelectorAll('.category-item').forEach(cat => {
            cat.addEventListener('click', function() {
                const category = this.getAttribute('data-category');
                // Here we'd implement filtering by category
                console.log('Selected category:', category);
            });
        });
        
        // Payment method selection
        document.querySelectorAll('.payment-app').forEach(method => {
            method.addEventListener('click', function() {
                this.classList.toggle('selected');
            });
        });
        
        // Toggle styling for auto-reject and notify
        document.getElementById('auto-reject-toggle').addEventListener('change', function() {
            const dot = this.nextElementSibling.nextElementSibling;
            if (this.checked) {
                dot.style.transform = 'translateX(100%)';
                this.previousElementSibling.classList.add('bg-primary');
                this.previousElementSibling.classList.remove('bg-gray-300', 'dark:bg-gray-600');
            } else {
                dot.style.transform = 'translateX(0)';
                this.previousElementSibling.classList.remove('bg-primary');
                this.previousElementSibling.classList.add('bg-gray-300', 'dark:bg-gray-600');
            }
        });
        
        document.getElementById('notify-toggle').addEventListener('change', function() {
            const dot = this.nextElementSibling.nextElementSibling;
            if (this.checked) {
                dot.style.transform = 'translateX(100%)';
                this.previousElementSibling.classList.add('bg-primary');
                this.previousElementSibling.classList.remove('bg-gray-300', 'dark:bg-gray-600');
            } else {
                dot.style.transform = 'translateX(0)';
                this.previousElementSibling.classList.remove('bg-primary');
                this.previousElementSibling.classList.add('bg-gray-300', 'dark:bg-gray-600');
            }
        });
        
        // Initialize toggle positions
        document.getElementById('auto-reject-toggle').dispatchEvent(new Event('change'));
        document.getElementById('notify-toggle').dispatchEvent(new Event('change'));
        
        // Initialize default section
        showSection('home');
        
        // Offline detection
        function updateOnlineStatus() {
            const offlineBanner = document.getElementById('offline-banner');
            if (navigator.onLine) {
                offlineBanner.classList.add('hidden');
            } else {
                offlineBanner.classList.remove('hidden');
            }
        }
        
        window.addEventListener('online', updateOnlineStatus);
        window.addEventListener('offline', updateOnlineStatus);
        updateOnlineStatus();
    </script>
</body>
</html>
